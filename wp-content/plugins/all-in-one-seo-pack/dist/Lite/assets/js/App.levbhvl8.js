import{n as Fe,v as p,o as i,c as S,C as c,l as d,x as A,t as m,a as u,k as _,b as h,G as $,E as ae,K as Gt,L as zt,g as ve,y as bo,M as qt,Y as wo,h as Co,H as yt,F as be,J as Ue,m as xe,T as Ge,f as Se,u as v,D as Po,q as ye}from"./runtime-dom.esm-bundler.h3clfjuw.js";/* empty css             */import{d as jt,e as W,b as Te,h as st,l as q,m as de,u as _e,B as We,z as $t,W as Re,X as Ye,j as Le,g as Eo,r as Wt,F as xo,i as Yt,H as To,x as Ve,I as Zt,y as Ze,o as Ao}from"./index.ba51ghj9.js";import{a as Lo,C as Io,u as Mo}from"./LicenseKeyBar.gh3b5rkr.js";import{a as Ae}from"./allowed.o46uhc7o.js";import{g as ze,r as _t}from"./params.k8e95b6q.js";import{C as Ee,a as Xe,S as St,f as kt,c as vt,e as Oo,b as Ne,d as rt,h as Do}from"./Caret.dwp6xpza.js";import{G as Pe,P as Bo,F as Ro,d as Ho,S as Uo,O as Vo}from"./constants.hcfrsngk.js";import{C as we}from"./SettingsRow.d9u0swi1.js";import{B as Ko}from"./Checkbox.cv4w58s0.js";import{G as Fo,a as No}from"./Row.h4gujlzc.js";import"./translations.b896ab1m.js";import{_ as I}from"./_plugin-vue_export-helper.oebm7xum.js";import{_ as n,a as R}from"./default-i18n.hohxoesu.js";import{C as De}from"./Tabs.opo0ypfq.js";import{C as Ie}from"./Index.kqt70nj0.js";import{u as bt}from"./MaxCounts.h4dewttr.js";import{u as wt}from"./Tags.mkuonlme.js";import{x as Xt,y as nt,z as Go,A as zo,B as qo,T as Jt,i as it,C as Qt,t as jo}from"./postSlug.ms4f44w2.js";import{e as Oe}from"./regex.bekpgw04.js";import{S as eo}from"./Ellipse.mhzh8c2h.js";import{d as at}from"./debounce.mrkkoh0r.js";import{V as $o,j as Wo}from"./helpers.lwqbledo.js";import{t as Lt}from"./toFinite.fa15x3ow.js";import{u as to}from"./TruSeoScore.das28gz4.js";import{C as Ce}from"./Tooltip.i4md1nj9.js";import{S as Yo}from"./Statistics.l9vto0az.js";import{S as Je,a as Ct,g as lt,h as Zo,j as Xo,k as Jo,m as Qo,n as es,o as ts,p as os,q as ss,r as rs,s as ns,t as is,u as as,v as ls,w as cs,x as ds,y as us,z as ps,A as hs,C as ms,D as gs,e as _s,E as fs,F as ys}from"./index.kaabvvzj.js";import{S as Pt}from"./Plus.e1tf1dpc.js";import{S as Qe}from"./Eye.jbr17b06.js";import{B as oo}from"./RadioToggle.cler7vn3.js";import{C as Ss}from"./GoogleSearchPreview.mmblg2b4.js";import{C as Et}from"./HtmlTagsEditor.irue4ytl.js";import{T as ks}from"./Slide.dop8j51m.js";import{C as vs}from"./ProBadge.e32os6n3.js";import{u as bs,p as It}from"./popup.dv3t4x6w.js";import{D as Mt}from"./datetime.hyfm7zez.js";import{l as He}from"./license.ij9c7ra4.js";import{S as ws,a as Cs}from"./Mobile.livanyta.js";import{u as Ps,S as so}from"./Settings.m4k6ojy4.js";import{u as Es}from"./vue3-apexcharts.n0h2b4pa.js";import{_ as xs}from"./ConnectCta.kd4ryk1u.js";import{C as et}from"./Blur.mu93d3e2.js";import{C as xt}from"./Index.jq0lth54.js";import{G as ft}from"./Graph.chc9u9ci.js";import{u as ro}from"./WpTable.i82lv9f1.js";import{C as no}from"./Table.bzjzsap0.js";import{R as io}from"./RequiredPlans.fcb8z72b.js";import{a as ao}from"./addons.eq04tz3m.js";import{u as Ts}from"./PostTypes.pd67gy5m.js";import{S as lo}from"./External.lyui8nzf.js";import{S as As,a as Ls,b as Is}from"./InternalOutbound.gq4sspcu.js";import{u as co}from"./Image.j9h9tyqk.js";import{t as uo}from"./Editor.ipgvvrs0.js";import{C as Ms}from"./FacebookPreview.gt9tcl43.js";import{C as po}from"./ImageUploader.l2gqgn6z.js";import{C as Os}from"./TwitterPreview.liy9u0my.js";import{a as ho,S as Ds}from"./Build.mjaxpub4.js";import{L as Bs}from"./Redirects.nw8rq81b.js";import{U as Rs,S as Hs}from"./Upsell.l3r393es.js";var Us=Math.floor,Vs=Math.random;function Ks(t,e){return t+Us(Vs()*(e-t+1))}var Fs=parseFloat,Ns=Math.min,Gs=Math.random;function zs(t,e,r){if(r&&typeof r!="boolean"&&$o(t,e,r)&&(e=r=void 0),r===void 0&&(typeof e=="boolean"?(r=e,e=void 0):typeof t=="boolean"&&(r=t,t=void 0)),t===void 0&&e===void 0?(t=0,e=1):(t=Lt(t),e===void 0?(e=t,t=0):e=Lt(e)),t>e){var o=t;t=e,e=o}if(r||t%1||e%1){var s=Gs();return Ns(t+s*(e-t+Fs("1e-"+((s+"").length-1))),e)}return Ks(t,e)}const tt=jt("TruSeoHighlighterStore",{state:()=>{var t,e;return{allowScrolling:!1,allowHighlighting:!0,dispatchAnnotations:((e=(t=window==null?void 0:window.wp)==null?void 0:t.data)==null?void 0:e.dispatch("core/annotations"))||null,enabled:!0,highlightAnalyzer:null,highlightMarks:[],highlightPopover:{},source:"aioseo-tru-seo-highlighter",wpBodyContentObserver:null}},getters:{highlightAnalysis(){var o,s;const e=((s=(o=W().currentPost)==null?void 0:o.page_analysis)==null?void 0:s.analysis)||{};return(Object.values(e).flat().find(a=>!!a[this.highlightAnalyzer])||{})[this.highlightAnalyzer]||{}},highlightAnalyzerHasError(){var t;return!!((t=this.highlightAnalysis)!=null&&t.error)},highlightSentences(){var e;let t=[];return Array.isArray((e=this.highlightAnalysis)==null?void 0:e.highlightSentences)&&(t=this.highlightAnalysis.highlightSentences.flat().map(r=>(r=r.replace(/&[a-zA-Z0-9#]{2,};$/,""),r=r.replace(/<br[^>]*>/gi,`
`),Xt(r))).filter(r=>!!r.trim())),t.length?t:null},activeMark(){return this.highlightMarks.length?this.highlightMarks.find(t=>t.active&&t.node):null}},actions:{clearHighlightPopover(){var t,e,r;(t=this.highlightPopover)!=null&&t.observer&&this.highlightPopover.observer.disconnect(),(e=this.highlightPopover)!=null&&e.node&&this.highlightPopover.node.remove(),(r=this.highlightPopover)!=null&&r.app&&this.highlightPopover.app.unmount(),this.highlightPopover={}},clearAnnotations(){var t,e;if(typeof((t=this.dispatchAnnotations)==null?void 0:t.__experimentalRemoveAnnotationsBySource)=="function"&&this.dispatchAnnotations.__experimentalRemoveAnnotationsBySource(this.source),typeof((e=window==null?void 0:window.tinymce)==null?void 0:e.editors)=="object")for(const r of window.tinymce.editors){const o=r.selection.win.getSelection(),s=Object.values(r.annotator.getAll(this.source)).flat();for(const a of Object.values(s))r.undoManager.ignore(()=>{o.selectAllChildren(a),o.setPosition(a,0),r.annotator.remove(this.source)})}this.highlightMarks=[]},clearAll(){this.clearHighlightPopover(),this.clearAnnotations()},sanitizeHighlightMarks(){this.highlightMarks=this.highlightMarks.filter(t=>!!t.node),this.highlightMarks.length&&!this.highlightMarks.find(t=>!!t.active)&&(this.highlightMarks[0].active=!0)},toggleHighlightAnalyzer(t){if(this.allowScrolling=!0,this.highlightAnalyzer===t)return this.highlightAnalyzer=null,!1;this.highlightAnalyzer=null,Fe().then(()=>{this.highlightAnalyzer=t})}}}),Ot="all-in-one-seo-pack",qs=jt("SemrushStore",{state:()=>({results:[],error:null}),getters:{expired:()=>{const t=Te();if(!t.internalOptions.integrations.semrush.expires)return!0;const e=Mt.now(),r=Mt.fromMillis(parseInt(t.internalOptions.integrations.semrush.expires*1e3,10));return e>=r},hasValidTokens:t=>{const e=Te();return!t.expired&&!!e.internalOptions.integrations.semrush.accessToken&&!!e.internalOptions.integrations.semrush.refreshToken}},actions:{getKeyphrases(t){this.error=null;const e=W();return st.post(q.restUrl("integration/semrush/keyphrases")).send({keyphrase:e.currentPost.keyphrases.focus.keyphrase,database:t}).then(r=>{if(r.body.keyphrases.status===403){this.error=r.body.keyphrases.error;return}this.results=r.body.keyphrases.data.rows}).catch(r=>{var o,s;if(!((s=(o=r==null?void 0:r.response)==null?void 0:o.body)!=null&&s.message)){this.error=n("An unknown error occurred, please try again later.",Ot);return}this.error=r.response.body.message})},authenticate(t){return this.error=null,st.post(q.restUrl("integration/semrush/authenticate")).send({code:t}).then(e=>{const r=Te();r.updateOption("internalOptions",{groups:["integrations"],key:"semrush",value:e.body.semrush},{root:!0}),r.internalOptions.integrations.semrush=e.body.semrush}).catch(e=>{var r,o;if(!((o=(r=e==null?void 0:e.response)==null?void 0:r.body)!=null&&o.message)){this.error=n("An unknown error occurred, please try again later.",Ot);return}this.error=e.response.body.message})},refresh(){return st.post(q.restUrl("integration/semrush/refresh")).then(t=>{const e=Te();e.updateOption("internalOptions",{groups:["integrations"],key:"semrush",value:t.body.semrush},{root:!0}),e.internalOptions.integrations.semrush=t.body.semrush})}}}),ie="all-in-one-seo-pack",js={setup(){return{postEditorStore:W()}},components:{BaseCheckbox:Ko,GridColumn:Fo,GridRow:No},data(){return{strings:{useDefaultSettings:n("Use Default Settings",ie),robotsMeta:n("Robots meta:",ie),maxSnippet:n("Max Snippet",ie),maxVideoPreview:n("Max Video Preview",ie),maxImagePreview:n("Max Image Preview",ie),standard:n("Standard",ie),none:n("None",ie),large:n("Large",ie),noindex:n("No Index",ie),nofollow:n("No Follow",ie),noarchive:n("No Archive",ie),notranslate:n("No Translate",ie),noimageindex:n("No Image Index",ie),nosnippet:n("No Snippet",ie),noodp:n("No ODP",ie)}}},computed:{imagePreviewOptions(){return[{label:this.strings.none,value:"none"},{label:this.strings.standard,value:"standard"},{label:this.strings.large,value:"large"}]}},methods:{getImagePreview(t){return this.imagePreviewOptions.find(e=>e.value===t)},saveImagePreview(t){this.postEditorStore.currentPost.maxImagePreview=t,this.postEditorStore.isDirty=!0}}},$s={class:"aioseo-robots-meta"},Ws={key:0,class:"global-robots-settings aioseo-description"},Ys={class:"robots-meta-title"},Zs={class:"global-robots-settings-options"},Xs={key:0,class:"aioseo-description max-snippet"},Js={class:"aioseo-description max-video-preview"},Qs={key:1,class:"aioseo-description max-image-preview"};function er(t,e,r,o,s,a){const g=p("base-toggle"),l=p("base-checkbox"),y=p("grid-column"),C=p("grid-row"),P=p("base-input"),T=p("base-select");return i(),S("div",$s,[c(g,{modelValue:o.postEditorStore.currentPost.default,"onUpdate:modelValue":[e[0]||(e[0]=b=>o.postEditorStore.currentPost.default=b),e[1]||(e[1]=b=>o.postEditorStore.isDirty=!0)]},{default:d(()=>[A(m(s.strings.useDefaultSettings),1)]),_:1},8,["modelValue"]),o.postEditorStore.currentPost.default?h("",!0):(i(),S("div",Ws,[u("span",Ys,m(s.strings.robotsMeta),1),c(C,{class:"settings"},{default:d(()=>[o.postEditorStore.currentPost.isHomePage?h("",!0):(i(),_(y,{key:0,xl:"3",md:"4",sm:"6"},{default:d(()=>[c(l,{size:"medium",modelValue:o.postEditorStore.currentPost.noindex,"onUpdate:modelValue":[e[2]||(e[2]=b=>o.postEditorStore.currentPost.noindex=b),e[3]||(e[3]=b=>o.postEditorStore.isDirty=!0)]},{default:d(()=>[A(m(s.strings.noindex),1)]),_:1},8,["modelValue"])]),_:1})),c(y,{xl:"3",md:"4",sm:"6"},{default:d(()=>[c(l,{size:"medium",modelValue:o.postEditorStore.currentPost.nofollow,"onUpdate:modelValue":[e[4]||(e[4]=b=>o.postEditorStore.currentPost.nofollow=b),e[5]||(e[5]=b=>o.postEditorStore.isDirty=!0)]},{default:d(()=>[A(m(s.strings.nofollow),1)]),_:1},8,["modelValue"])]),_:1}),c(y,{xl:"3",md:"4",sm:"6"},{default:d(()=>[c(l,{size:"medium",modelValue:o.postEditorStore.currentPost.noarchive,"onUpdate:modelValue":[e[6]||(e[6]=b=>o.postEditorStore.currentPost.noarchive=b),e[7]||(e[7]=b=>o.postEditorStore.isDirty=!0)]},{default:d(()=>[A(m(s.strings.noarchive),1)]),_:1},8,["modelValue"])]),_:1}),c(y,{xl:"3",md:"4",sm:"6"},{default:d(()=>[c(l,{size:"medium",modelValue:o.postEditorStore.currentPost.notranslate,"onUpdate:modelValue":[e[8]||(e[8]=b=>o.postEditorStore.currentPost.notranslate=b),e[9]||(e[9]=b=>o.postEditorStore.isDirty=!0)]},{default:d(()=>[A(m(s.strings.notranslate),1)]),_:1},8,["modelValue"])]),_:1}),c(y,{xl:"3",md:"4",sm:"6"},{default:d(()=>[c(l,{size:"medium",modelValue:o.postEditorStore.currentPost.noimageindex,"onUpdate:modelValue":[e[10]||(e[10]=b=>o.postEditorStore.currentPost.noimageindex=b),e[11]||(e[11]=b=>o.postEditorStore.isDirty=!0)]},{default:d(()=>[A(m(s.strings.noimageindex),1)]),_:1},8,["modelValue"])]),_:1}),c(y,{xl:"3",md:"4",sm:"6"},{default:d(()=>[c(l,{size:"medium",modelValue:o.postEditorStore.currentPost.nosnippet,"onUpdate:modelValue":[e[12]||(e[12]=b=>o.postEditorStore.currentPost.nosnippet=b),e[13]||(e[13]=b=>o.postEditorStore.isDirty=!0)]},{default:d(()=>[A(m(s.strings.nosnippet),1)]),_:1},8,["modelValue"])]),_:1}),c(y,{xl:"3",md:"4",sm:"6"},{default:d(()=>[c(l,{size:"medium",modelValue:o.postEditorStore.currentPost.noodp,"onUpdate:modelValue":[e[14]||(e[14]=b=>o.postEditorStore.currentPost.noodp=b),e[15]||(e[15]=b=>o.postEditorStore.isDirty=!0)]},{default:d(()=>[A(m(s.strings.noodp),1)]),_:1},8,["modelValue"])]),_:1})]),_:1}),u("div",Zs,[o.postEditorStore.currentPost.nosnippet?h("",!0):(i(),S("div",Xs,[u("span",null,m(s.strings.maxSnippet),1),c(P,{type:"number",size:"medium",modelValue:o.postEditorStore.currentPost.maxSnippet,"onUpdate:modelValue":[e[16]||(e[16]=b=>o.postEditorStore.currentPost.maxSnippet=b),e[17]||(e[17]=b=>o.postEditorStore.isDirty=!0)]},null,8,["modelValue"])])),u("div",Js,[u("span",null,m(s.strings.maxVideoPreview),1),c(P,{type:"number",size:"medium",modelValue:o.postEditorStore.currentPost.maxVideoPreview,"onUpdate:modelValue":[e[18]||(e[18]=b=>o.postEditorStore.currentPost.maxVideoPreview=b),e[19]||(e[19]=b=>o.postEditorStore.isDirty=!0)]},null,8,["modelValue"])]),o.postEditorStore.currentPost.noimageindex?h("",!0):(i(),S("div",Qs,[u("span",null,m(s.strings.maxImagePreview),1),c(T,{size:"medium",options:a.imagePreviewOptions,modelValue:a.getImagePreview(o.postEditorStore.currentPost.maxImagePreview),"onUpdate:modelValue":e[20]||(e[20]=b=>a.saveImagePreview(b.value))},null,8,["options","modelValue"])]))])]))])}const tr=I(js,[["render",er]]),ge="all-in-one-seo-pack",or={setup(){return{licenseStore:de(),optionsStore:Te(),postEditorStore:W()}},components:{CoreAlert:Ee,CoreSettingsRow:we,CoreSingleRobotsMeta:tr},props:{disabled:{type:Boolean,default(){return!1}},type:{type:String,required:!1},object:{type:Object,required:!1}},data(){return{strings:{pageName:n("Advanced",ge),robotsSetting:n("Robots Setting",ge),robotsToggle:n("Use Default Settings",ge),canonicalUrl:n("Canonical URL",ge),placeholder:n("Enter a URL to change the default Canonical URL",ge),priorityScore:n("Priority Score",ge),priority:n("Priority",ge),frequency:n("Frequency",ge),priorityFrequencyUpsell:R(n("Priority Score is a %1$s feature. %2$s",ge),"PRO",q.getUpsellLink("post-advanced",Pe.learnMore,"priority-frequency",!0)),keywords:n("Keywords",ge),tagPlaceholder:n("Press enter to create a keyword",ge)}}},computed:{getPriorityOptions(){return[{label:n("default",ge),value:"default"}].concat(Bo)},getFrequencyOptions(){return[{label:n("default",ge),value:"default"}].concat(Ro)}},methods:{getPriority(t){return t=t!=="default"?parseFloat(t):t,this.getPriorityOptions.find(e=>e.value===t)},savePriority(t){this.postEditorStore.currentPost.priority=t,this.postEditorStore.isDirty=!0},getFrequency(t){return this.getFrequencyOptions.find(e=>e.value===t)},saveFrequency(t){this.postEditorStore.currentPost.frequency=t,this.postEditorStore.isDirty=!0}}},sr={class:"aioseo-tab-content aioseo-post-advanced"},rr={class:"selectbox-row"},nr={class:"select"},ir=u("div",{class:"separator"},[u("span"),A(" - ")],-1),ar={class:"select"},lr=["innerHTML"];function cr(t,e,r,o,s,a){const g=p("core-single-robots-meta"),l=p("core-settings-row"),y=p("base-input"),C=p("base-select"),P=p("core-alert");return i(),S("div",sr,[c(l,{id:"aioseo-post-robots-setting",name:s.strings.robotsSetting,align:""},{content:d(()=>[c(g)]),_:1},8,["name"]),c(l,{id:"aioseo-post-canonical-url",name:s.strings.canonicalUrl,align:""},{content:d(()=>[c(y,{type:"text",size:"medium",placeholder:s.strings.placeholder,modelValue:o.postEditorStore.currentPost.canonicalUrl,"onUpdate:modelValue":[e[0]||(e[0]=T=>o.postEditorStore.currentPost.canonicalUrl=T),e[1]||(e[1]=T=>o.postEditorStore.isDirty=!0)]},null,8,["placeholder","modelValue"])]),_:1},8,["name"]),c(l,{name:s.strings.priorityScore,align:""},{content:d(()=>[u("div",rr,[u("div",nr,[u("span",null,m(s.strings.priority),1),c(C,{disabled:o.licenseStore.isUnlicensed,size:"medium",options:a.getPriorityOptions,modelValue:o.licenseStore.isUnlicensed?a.getPriority("default"):a.getPriority(o.postEditorStore.currentPost.priority),"onUpdate:modelValue":e[2]||(e[2]=T=>o.licenseStore.isUnlicensed?null:a.savePriority(T.value))},null,8,["disabled","options","modelValue"])]),ir,u("div",ar,[u("span",null,m(s.strings.frequency),1),c(C,{disabled:o.licenseStore.isUnlicensed,size:"medium",options:a.getFrequencyOptions,modelValue:o.licenseStore.isUnlicensed?a.getFrequency("default"):a.getFrequency(o.postEditorStore.currentPost.frequency),"onUpdate:modelValue":e[3]||(e[3]=T=>o.licenseStore.isUnlicensed?null:a.saveFrequency(T.value))},null,8,["disabled","options","modelValue"])])]),o.licenseStore.isUnlicensed?(i(),_(P,{key:0,class:"inline-upsell",type:"blue"},{default:d(()=>[u("div",{innerHTML:s.strings.priorityFrequencyUpsell},null,8,lr)]),_:1})):h("",!0)]),_:1},8,["name"]),o.optionsStore.options.searchAppearance.advanced.useKeywords?(i(),_(l,{key:0,name:s.strings.keywords,align:""},{content:d(()=>[c(C,{multiple:"",taggable:"",options:o.postEditorStore.currentPost.keywords||[],modelValue:o.postEditorStore.currentPost.keywords||[],"onUpdate:modelValue":e[4]||(e[4]=T=>o.postEditorStore.currentPost.keywords=T),"tag-placeholder":s.strings.tagPlaceholder},null,8,["options","modelValue","tag-placeholder"])]),_:1},8,["name"])):h("",!0)])}const dr=I(or,[["render",cr]]),ur={setup(){return{licenseStore:de(),rootStore:_e()}},components:{CoreApiBar:Lo,CoreLicenseKeyBar:Io}};function pr(t,e,r,o,s,a){const g=p("core-api-bar"),l=p("core-license-key-bar");return i(),S("div",null,[o.rootStore.pong?h("",!0):(i(),_(g,{key:0})),o.rootStore.isPro&&o.licenseStore.isUnlicensed&&o.rootStore.pong?(i(),_(l,{key:1})):h("",!0)])}const mo=I(ur,[["render",pr]]),hr={emits:["next","previous"],setup(){return{truSeoHighlighterStore:tt()}},components:{SvgEllipse:eo,SvgCaret:Xe,SvgClose:St},data(){return{error:this.truSeoHighlighterStore.highlightAnalyzerHasError,order:this.truSeoHighlighterStore.highlightMarks.findIndex(t=>t.active)+1,total:this.truSeoHighlighterStore.highlightMarks.length}},methods:{close(){this.truSeoHighlighterStore.toggleHighlightAnalyzer(null)}}},mr=t=>(Gt("data-v-6d6404ce"),t=t(),zt(),t),gr={class:"tru-seo-highlight-popover","data-arrow-placement":"right"},_r={class:"tru-seo-highlight-popover__count"},fr=mr(()=>u("div",{class:"tru-seo-highlight-popover__pipe"},null,-1)),yr={class:"tru-seo-highlight-popover__nav"},Sr=["disabled"],kr=["disabled"],vr={class:"tru-seo-highlight-popover__close"};function br(t,e,r,o,s,a){const g=p("svg-ellipse"),l=p("svg-caret"),y=p("svg-close");return i(),S("div",gr,[u("div",{class:$(["tru-seo-highlight-popover__bullet",{"tru-seo-highlight-popover__bullet--error":s.error}])},[c(g,{width:"8"})],2),u("div",_r,[u("span",null,m(s.order)+"/"+m(s.total),1)]),fr,u("div",yr,[u("button",{type:"button",class:"caret-wrapper caret-wrapper--previous",tabindex:"0",disabled:s.order===1,onClick:e[0]||(e[0]=ae(C=>t.$emit("previous"),["stop","exact"]))},[c(l,{width:"20"})],8,Sr),u("button",{type:"button",class:"caret-wrapper",tabindex:"0",disabled:s.order===s.total,onClick:e[1]||(e[1]=ae(C=>t.$emit("next"),["stop","exact"]))},[c(l,{width:"20"})],8,kr)]),u("div",vr,[u("button",{type:"button",class:"close-wrapper",tabindex:"0",onClickOnce:e[2]||(e[2]=ae((...C)=>a.close&&a.close(...C),["stop","exact"]))},[c(y,{width:"10"})],32)])])}const wr=I(hr,[["render",br],["__scopeId","data-v-6d6404ce"]]),Cr=()=>{var O,D,X,H;const t=ve(null),e=ve({}),r=We(),o=$t(),s=(D=(O=window==null?void 0:window.wp)==null?void 0:O.data)==null?void 0:D.select("core/block-editor"),a=(H=(X=window==null?void 0:window.wp)==null?void 0:X.data)==null?void 0:H.select("core/edit-post"),g=ve(null),l=tt(),y=f=>{var w,L,M,U,K,B;let E="content";(L=(w=f.block)==null?void 0:w.attributes)!=null&&L.caption?E="caption":(U=(M=f.block)==null?void 0:M.attributes)!=null&&U.value?E="value":(B=(K=f.block)==null?void 0:K.attributes)!=null&&B.citation&&(E="citation"),l.dispatchAnnotations.__experimentalAddAnnotation({id:f.id,range:f.range,source:l.source,blockClientId:f.block.clientId,richTextIdentifier:E})},C=(f,E)=>{if(!E)return!1;!E.hasFocus()&&r&&E.focus();let w=E.selection.win.getSelection();w.selectAllChildren(f.parent);const L=w.toString().length;if(f.range.end<L)for(let M=f.range.end;M<L;M++)w.modify("extend","backward","character");if(0<f.range.start){w=Go(w);for(let M=f.range.start;0<M;M--)w.modify("extend","forward","character")}E.undoManager.ignore(()=>{E.annotator.annotate(l.source,{uid:f.id})}),w.empty()},P=()=>{if(l.clearHighlightPopover(),l.sanitizeHighlightMarks(),!l.activeMark)return!1;const f=wo({name:"TruSeoHighlightPopover",render(){return Co(wr,{onNext(){Q(1)},onPrevious(){Q(-1)}})}}),E=qo(),w=new ResizeObserver(at(re,750)),L=k("wrapper");if(!L)return!1;L.parentElement.appendChild(E),f.mount(E),w.observe(k("wrapper"),{box:"border-box"}),l.highlightPopover.app=f,l.highlightPopover.node=E,l.highlightPopover.observer=w,re()},T=()=>{l.toggleHighlightAnalyzer(null),l.allowHighlighting=!1},b=({block:f,node:E})=>{var L,M,U,K;let w="";return E?w=E.outerText.replace(/\n\n/g,`
`):f&&(w=((L=f==null?void 0:f.attributes)==null?void 0:L.content)||((M=f==null?void 0:f.attributes)==null?void 0:M.caption)||((U=f==null?void 0:f.attributes)==null?void 0:U.value)||((K=f==null?void 0:f.attributes)==null?void 0:K.citation)||"",w=w.replace(/<br[^>]*>/gi,`
`),w=Xt(w)),zo(w)},k=f=>{var E;if(f==="closest-relative")return nt({element:k("wrapper").parentElement,property:"position",value:"relative"});if(f==="navigable")return nt({element:k("wrapper").parentElement,property:"overflow-y",value:"auto"});if(o){if(f==="wrapper")return document.getElementById("content_ifr");if(f==="first-block")return((E=g.value.getBody())==null?void 0:E.firstElementChild)||{}}if(r){if(f==="wrapper")return document.querySelector(".editor-styles-wrapper");if(f==="first-block"){const w=s.getBlocks()[0];return document.getElementById(`block-${w==null?void 0:w.clientId}`)||{}}}},x=()=>{var f;for(const E of s.getBlocks()||[]){if(E.name==="core/freeform"){const w=window.tinymce.get(`editor-${E.clientId}`),L=((f=w.getBody())==null?void 0:f.children)||[];if(!L.length)continue;he(w);for(const M of L)Z({block:E,node:M});continue}Z({block:E,node:null})}for(const[E,w]of Object.entries(l.highlightMarks))V(w.parent,parseInt(E)===l.highlightMarks.length-1),w.block.name==="core/freeform"?C(w,window.tinymce.get(`editor-${w.block.clientId}`)):y(w)},z=()=>{var E;const f=((E=g.value.getBody())==null?void 0:E.children)||[];if(!f.length)return!1;he(g.value);for(const w of f)Z({block:null,node:w});for(const[w,L]of Object.entries(l.highlightMarks))V(L.parent,parseInt(w)===l.highlightMarks.length-1),C(L,g.value)},Q=f=>{const E=l.highlightMarks.findIndex(w=>w.active);if(!l.highlightMarks[E+f])return!1;l.allowScrolling=!0,l.highlightMarks[E].active=!1,l.highlightMarks[E+f].active=!0,P()},ue=f=>{var U,K;const E=()=>{f.preventDefault(),f.clipboardData.setData("text/html",window.getSelection().toString())},w=window.getSelection()||{};if(!(w!=null&&w.rangeCount))return!1;const L=((U=f.clipboardData)==null?void 0:U.getData("text/html"))||"";if(L&&L.indexOf(l.source)!==-1)return E(),!1;const M=w.getRangeAt(0)||{};for(const B of Object.values(((K=M==null?void 0:M.cloneContents())==null?void 0:K.children)||[]))if(Object.values((B==null?void 0:B.classList)||[]).some(oe=>oe.endsWith(l.source)))return E(),!1},pe=f=>{var U,K;const E=(B,oe)=>{B.collapse(oe.firstChild,oe.firstChild.length),B.deleteFromDocument()};if(["Delete","Backspace"].indexOf(f.key)===-1)return!1;const w=window.getSelection()||null;if(!(w!=null&&w.toString()))return!1;const L=((U=w==null?void 0:w.anchorNode)==null?void 0:U.parentElement)||null,M=((K=w==null?void 0:w.anchorNode)==null?void 0:K.nextElementSibling)||null;Object.values((L==null?void 0:L.classList)||[]).some(B=>B.endsWith(l.source))?E(w,L):Object.values((M==null?void 0:M.classList)||[]).some(B=>B.endsWith(l.source))&&E(w,M)},se=()=>{var E;t.value=new MutationObserver(w=>{let L=!1;for(const M of w)for(const U of(M==null?void 0:M.removedNodes)||[])(l.highlightMarks.some(K=>U.isEqualNode(K.parent))||Object.values((U==null?void 0:U.classList)||[]).some(K=>K.endsWith(l.source)))&&(L=!0);L&&fe()});const f=(E=k("first-block"))==null?void 0:E.parentElement;if(typeof f!="object")return!1;t.value.observe(f,{attributes:!1,childList:!0,subtree:!0})},V=(f,E=!1)=>{const w=(M,U)=>{var K;U.disconnect();for(const B of M){if(Object.values(((K=B==null?void 0:B.target)==null?void 0:K.classList)||[]).some(oe=>oe.endsWith(l.source))){F(B.target);continue}for(const oe of(B==null?void 0:B.addedNodes)||[])if(Object.values((oe==null?void 0:oe.classList)||[]).some(me=>me.endsWith(l.source))){F(oe);break}}E&&Fe().then(()=>at(P,250)())};if(typeof(f==null?void 0:f.parentElement)!="object")return!1;new MutationObserver(w).observe(f,{attributes:!0,childList:!0,subtree:!0})},Y=()=>{const f=E=>{var w,L,M;for(const U of E){if((U==null?void 0:U.type)!=="attributes")continue;if(!nt({element:(w=k("wrapper"))==null?void 0:w.parentElement,property:"display",value:"none"}).isEqualNode(document.documentElement)||r&&(a.getEditorMode()!=="visual"||s.getBlockMode((L=s.getSelectedBlock())==null?void 0:L.clientId)==="html")||o&&(ee(),((M=document.getElementById("content"))==null?void 0:M.nodeName)==="TEXTAREA"&&document.getElementById("content").style.display!=="none"))return T(),!1;l.allowHighlighting=!0}};l.wpBodyContentObserver=new MutationObserver(at(f,250)),l.wpBodyContentObserver.observe(document.getElementById("wpbody-content"),{attributes:!0,childList:!1,subtree:!0})},he=f=>{f.annotator.register(l.source,{persistent:!1,decorate:()=>({classes:["annotation-text",`annotation-text-${l.source}`]})})},re=(f=[])=>{var me;if(!l.activeMark||!l.highlightPopover.node)return!1;for(const vo of f)if(JSON.stringify(vo.contentRect)===JSON.stringify(e))return!1;f.length&&(e.value=((me=f[0])==null?void 0:me.contentRect)||e,l.allowScrolling=!1);const E=l.activeMark.node.getBoundingClientRect(),w=k("wrapper").getBoundingClientRect(),L=k("closest-relative").getBoundingClientRect(),M=k("first-block").getBoundingClientRect(),[U,K]=[140,32];let B=E.top,oe=M.left-L.left;U<oe?(l.highlightPopover.node.style.top=B-L.top+"px",l.highlightPopover.node.style.transform="translate(-105%, 0)",l.highlightPopover.node.childNodes[0].dataset.arrowPlacement="right"):(B=B-K-L.top,B=o?B+w.top:B,oe=o?oe+w.left:oe,l.highlightPopover.node.style.top=B+"px",l.highlightPopover.node.style.transform="translate(0, 0)",l.highlightPopover.node.childNodes[0].dataset.arrowPlacement="bottomleft"),l.highlightPopover.node.style.left=oe+"px",N()},fe=()=>{var f;window.removeEventListener("copy",ue),window.removeEventListener("keyup",pe),(f=t.value)==null||f.disconnect(),l.clearAll(),Fe().then(()=>{if(!l.highlightSentences)return l.toggleHighlightAnalyzer(null),!1;r&&x(),o&&z(),se(),window.addEventListener("copy",ue),window.addEventListener("keyup",pe)})},N=()=>{Fe().then(()=>{var w,L,M,U;if(!l.allowScrolling)return!1;l.activeMark.node.scrollIntoView();let f=k("navigable"),E=f.scrollTop-60;o&&(E-=((L=(w=document.querySelector("#wp-content-editor-tools"))==null?void 0:w.getBoundingClientRect())==null?void 0:L.height)||0,E-=((U=(M=document.querySelector("#wp-content-editor-container .mce-toolbar-grp"))==null?void 0:M.getBoundingClientRect())==null?void 0:U.height)||0),f.isEqualNode(document.documentElement)&&(f=window),f.scrollTo({top:E}),l.allowScrolling=!1})},F=f=>{const E=l.highlightMarks.findIndex(w=>f.hasAttribute("data-mce-annotation-uid")?f.dataset.mceAnnotationUid.indexOf(w.id)!==-1:f.id.indexOf(w.id)!==-1);E!==-1&&(l.highlightMarks[E].node=f,f.style.backgroundColor="#cce0ff")},Z=({block:f,node:E})=>{const w=b({block:f,node:E});if(w)for(const[L,M]of Object.entries(l.highlightSentences||{})){const U=new RegExp(Oe(M),"g");let K;for(;(K=U.exec(w))!==null&&!l.highlightMarks.find(me=>me.sentenceIndex===L);){const B={start:K.index,end:K.index+K[0].length||1};l.highlightMarks.find(me=>E?(me.range.start===B.start||me.range.end===B.end)&&me.parent.isEqualNode(E):(me.range.start===B.start||me.range.end===B.end)&&me.block.clientId===f.clientId)||l.highlightMarks.push({id:zs(1,999999999),range:B,block:f,parent:E||document.getElementById(`block-${f.clientId}`),node:null,active:l.highlightMarks.length===0,sentenceIndex:L})}}if(f)for(const L of(f==null?void 0:f.innerBlocks)||[])Z({block:L,node:null})},ee=()=>{if(g.value)return!1;const f=window.setInterval(()=>{var E;if(g.value=((E=window==null?void 0:window.tinymce)==null?void 0:E.get("content"))||null,!g.value)return!1;window.clearInterval(f),g.value.dom.addStyle(`
				span.annotation-text.annotation-text-${l.source} {
					background-color: #CCE0FF;
					border-radius: 4px;
					color: inherit;
					display: inline;
					font-size: inherit;
					font-weight: inherit;
					letter-spacing: inherit;
					line-height: inherit;
					position: static;
				}
				`.trim())},500)},G=(f,E)=>{const w=JSON.stringify(f),L=JSON.stringify(E);w!==L&&fe()};return bo(()=>{var E;l.wpBodyContentObserver&&((E=l.wpBodyContentObserver)==null||E.disconnect());const f=window.setInterval(()=>{typeof k("wrapper")=="object"&&(window.clearInterval(f),Y())},1e3)}),qt(()=>{if((Re()||!r&&!o)&&(l.enabled=!1),r&&(!l.dispatchAnnotations||!s||!a)&&(l.enabled=!1),!l.enabled)return!1}),{watchHighlightSentences:G}},Pr="all-in-one-seo-pack",Er={emits:["selectedKeyphrase","deleted","saved"],setup(){return{keywordRankTrackerStore:Ye()}},components:{CoreTooltip:Ce,SvgPencil:kt,SvgStatistics:Yo,SvgTrash:Je},props:{index:{type:Number},keyphrase:{type:String},score:{type:Number}},data(){return{edit:!1,strings:{delete:n("Delete",Pr)}}},computed:{scoreClass(){return 80<this.score?"score-green":50<this.score?"score-orange":1<this.score?"score-red":"score-none"}},methods:{editKeyphraseEv(t){this.edit=!0,this.$emit("selectedKeyphrase",t)},deleteKeyphraseEv(t){this.edit=!1,this.$emit("deleted",t)},toggleKeyphrasesPanel(t){this.$emit("selectedKeyphrase",t)},closeEdit(t){var o;const e=(o=t.target)==null?void 0:o.value.trim(),r=this.index;e?(this.edit=!1,this.$emit("saved",{index:r,value:e})):this.deleteKeyphraseEv(r)},pressEnter(t){t.preventDefault(),t.target.blur(),this.edit=!1}}},xr={class:"aioseo-keyphrase-tag"},Tr={key:0,class:"aioseo-edit-keyphrase-tag"},Ar=["value"];function Lr(t,e,r,o,s,a){const g=p("svg-pencil"),l=p("svg-statistics"),y=p("svg-trash"),C=p("core-tooltip");return i(),S("div",xr,[u("span",{class:$(["aioseo-add-keyphrase-tag",s.edit?"hidden":""])},[u("span",{class:"keyphrase-name",onClick:e[0]||(e[0]=P=>a.toggleKeyphrasesPanel(r.index))},m(r.keyphrase),1),u("span",{class:"keyphrase-edit",onClick:e[1]||(e[1]=P=>a.editKeyphraseEv(r.index))},[c(g)]),u("a",{href:"#",onClick:e[2]||(e[2]=ae(P=>o.keywordRankTrackerStore.toggleModal({modal:"modalOpenPostEdit",open:!0}),["prevent","exact"])),class:"btn-keyword-rank-tracker"},[c(l,{width:"20"})]),u("span",{class:$(["keyphrase-score",a.scoreClass]),onClick:e[3]||(e[3]=P=>a.toggleKeyphrasesPanel(r.index))},m(r.score)+"/100",3)],2),s.edit?(i(),S("span",Tr,[u("input",{value:r.keyphrase,onBlur:e[4]||(e[4]=(...P)=>a.closeEdit&&a.closeEdit(...P)),onKeydown:e[5]||(e[5]=yt((...P)=>a.pressEnter&&a.pressEnter(...P),["enter"]))},null,40,Ar),u("span",{class:"keyphrase-delete",onClick:e[6]||(e[6]=P=>a.deleteKeyphraseEv(r.index))},[c(C,{type:"action"},{tooltip:d(()=>[A(m(s.strings.delete),1)]),default:d(()=>[c(y)]),_:1})])])):h("",!0)])}const go=I(Er,[["render",Lr]]),Ir={},Mr={width:"16",height:"11",viewBox:"0 0 16 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"aioseo-eye-filled"},Or=u("path",{d:"M8.0018 8.57162C8.78938 8.57162 9.45817 8.29596 10.0082 7.74465C10.5582 7.19335 10.8332 6.5239 10.8332 5.73632C10.8332 4.94874 10.5575 4.27995 10.0062 3.72995C9.4549 3.17995 8.78546 2.90495 7.99787 2.90495C7.21029 2.90495 6.5415 3.1806 5.9915 3.73191C5.4415 4.28322 5.1665 4.95266 5.1665 5.74025C5.1665 6.52783 5.44216 7.19661 5.99347 7.74661C6.54477 8.29662 7.21422 8.57162 8.0018 8.57162ZM7.99592 7.60495C7.47631 7.60495 7.03595 7.42309 6.67484 7.05937C6.31373 6.69563 6.13317 6.25396 6.13317 5.73436C6.13317 5.21475 6.31503 4.77439 6.67875 4.41328C7.04249 4.05217 7.48415 3.87161 8.00375 3.87161C8.52337 3.87161 8.96373 4.05348 9.32484 4.4172C9.68595 4.78093 9.8665 5.2226 9.8665 5.7422C9.8665 6.26181 9.68464 6.70217 9.32092 7.06328C8.95719 7.42439 8.51552 7.60495 7.99592 7.60495ZM7.99984 10.7383C6.37762 10.7383 4.91095 10.2772 3.59984 9.35495C2.28873 8.43273 1.31095 7.22717 0.666504 5.73828C1.31095 4.24939 2.28873 3.04384 3.59984 2.12161C4.91095 1.19939 6.37762 0.738281 7.99984 0.738281C9.62206 0.738281 11.0887 1.19939 12.3998 2.12161C13.7109 3.04384 14.6887 4.24939 15.3332 5.73828C14.6887 7.22717 13.7109 8.43273 12.3998 9.35495C11.0887 10.2772 9.62206 10.7383 7.99984 10.7383Z",fill:"currentColor"},null,-1),Dr=[Or];function Br(t,e){return i(),S("svg",Mr,Dr)}const Rr=I(Ir,[["render",Br]]),Dt="all-in-one-seo-pack",Hr={setup(){return{truSeoHighlighterStore:tt()}},components:{CoreTooltip:Ce,SvgEye:Qe,SvgEyeFilled:Rr},props:{analyzer:String},data(){return{strings:{highlightSections:n("Highlight sections in the Editor",Dt),highlightingIsDisabled:n("Highlighting is disabled for current view",Dt)}}},methods:{onClickBtnToggleHighlighter(){this.truSeoHighlighterStore.toggleHighlightAnalyzer(this.analyzer)}}},Ur=["disabled"];function Vr(t,e,r,o,s,a){const g=p("svg-eye"),l=p("core-tooltip"),y=p("svg-eye-filled");return o.truSeoHighlighterStore.enabled?(i(),S("button",{key:0,type:"button",class:"tru-seo-toggle-highlighter",disabled:!o.truSeoHighlighterStore.allowHighlighting,onClick:e[0]||(e[0]=ae(C=>a.onClickBtnToggleHighlighter(),["stop","exact"]))},[o.truSeoHighlighterStore.highlightAnalyzer!==r.analyzer?(i(),_(l,{key:0,offset:t.$root.$data.screenContext==="sidebar"?"-200px,0":"",type:"action"},{tooltip:d(()=>[A(m(o.truSeoHighlighterStore.allowHighlighting?s.strings.highlightSections:s.strings.highlightingIsDisabled),1)]),default:d(()=>[c(g,{width:"16",height:"16"})]),_:1},8,["offset"])):(i(),_(y,{key:1,width:"16",height:"16"}))],8,Ur)):h("",!0)}const Kr=I(Hr,[["render",Vr]]),Fr={components:{SvgCaret:Xe,SvgCircleCheck:vt,SvgCircleClose:Oo,TruSeoToggleHighlighter:Kr},props:{analysisItems:{type:Object}},methods:{toggleDescriptionEv(t){t.target.parentElement.classList.toggle("toggled")}}},Nr={class:"aioseo-analysis-detail"},Gr={key:0},zr={class:"title__text"},qr={class:"description"};function jr(t,e,r,o,s,a){const g=p("svg-circle-check"),l=p("svg-circle-close"),y=p("tru-seo-toggle-highlighter"),C=p("svg-caret");return i(),S("ul",Nr,[(i(!0),S(be,null,Ue(r.analysisItems,(P,T)=>{var b;return i(),S(be,{key:T},[P.title?(i(),S("li",Gr,[u("p",{class:$(["title",P.error===0?"toggled":""])},[P.error===0?(i(),_(g,{key:0,width:"16"})):h("",!0),P.error===1?(i(),_(l,{key:1,width:"16"})):h("",!0),u("span",zr,m(P.title),1),(b=P==null?void 0:P.highlightSentences)!=null&&b.length?(i(),_(y,{key:2,analyzer:T},null,8,["analyzer"])):h("",!0),c(C,{width:"16",role:"button",onClick:ae(a.toggleDescriptionEv,["stop"])},null,8,["onClick"])],2),u("p",qr,m(P.description),1)])):h("",!0)],64)}),128))])}const ot=I(Fr,[["render",jr]]),qe="all-in-one-seo-pack",$r={setup(){return{licenseStore:de(),postEditorStore:W(),rootStore:_e(),truSeo:new Jt}},components:{CoreAlert:Ee,CoreKeyphrase:go,CoreLoader:Ne,SvgCirclePlus:Pt,metaboxAnalysisDetail:ot},data(){return{selectedKeyphrase:0,strings:{additional:n("Additional Keyphrases",qe),addKeyphrase:n("Add Additional Keyphrases",qe),keyphraseDocumentation:n("Improve your SEO rankings with additional keyphrases.",qe),upsell:R(n("Additional Keyphrases are a %1$s feature. %2$s",qe),"PRO",q.getUpsellLink("post-settings",Pe.learnMore,"additional-keywords",!0))}}},watch:{"postEditorStore.currentPost.keyphrases.additional"(){this.postEditorStore.currentPost.keyphrases.additional&&!this.postEditorStore.currentPost.keyphrases.additional[this.selectedKeyphrase]&&(this.selectedKeyphrase=0)}},methods:{onSelectedKeyphrase(t){this.selectedKeyphrase=t},onSaved(t){const{index:e,value:r}=t;this.postEditorStore.currentPost.keyphrases.additional[e].keyphrase=r,this.postEditorStore.currentPost.keyphrases.additional[e].score=0,this.postEditorStore.currentPost.loading.additional[e]=!0,this.postEditorStore.isDirty=!0,this.truSeo.runAnalysis({postId:this.postEditorStore.currentPost.id,postData:this.postEditorStore.currentPost}),this.selectedKeyphrase=e},onDeleted(t){const e=[...this.postEditorStore.currentPost.keyphrases.additional];e.splice(t,1),this.postEditorStore.currentPost.keyphrases.additional=null,setTimeout(()=>{this.postEditorStore.currentPost.keyphrases.additional=e,this.postEditorStore.isDirty=!0,this.truSeo.runAnalysis({postId:this.postEditorStore.currentPost.id,postData:this.postEditorStore.currentPost})},300)},addKeyphraseEv(){var r;const e=document.getElementsByClassName(`add-keyphrase-${this.$root.$data.screenContext}-input`)[0].querySelector(".medium");if(e.value){const o={keyphrase:e.value,score:0},s=this.postEditorStore.currentPost.keyphrases.additional.push(o),a=document.getElementsByClassName("keyphrase-name");this.postEditorStore.currentPost.loading.additional[0]=!0,e.value="",e.blur(),this.postEditorStore.isDirty=!0,(r=a[s])==null||r.click(),this.truSeo.runAnalysis({postId:this.postEditorStore.currentPost.id,postData:this.postEditorStore.currentPost})}},pressEnter(t){const e=document.getElementById("add-additional-keyphrase");t.preventDefault(),e.click()},created(){this.postEditorStore.currentPost.keyphrases.forEach((t,e)=>{this.postEditorStore.currentPost.loading.additional[e]=!1})}}},Wr={class:"additional-keyphrases-panel"},Yr={key:0},Zr={class:"analysis-wrapper"},Xr={class:"aioseo-description additional-keyphrases-description"},Jr=["innerHTML"];function Qr(t,e,r,o,s,a){const g=p("core-keyphrase"),l=p("core-loader"),y=p("metaboxAnalysisDetail"),C=p("base-input"),P=p("svg-circle-plus"),T=p("base-button"),b=p("core-alert");return i(),S("div",Wr,[o.postEditorStore.currentPost.keyphrases.additional&&o.postEditorStore.currentPost.keyphrases.additional.length&&o.rootStore.isPro&&o.licenseStore.license.isActive?(i(),S("div",Yr,[(i(!0),S(be,null,Ue(o.postEditorStore.currentPost.keyphrases.additional,(k,x)=>(i(),_(g,{key:x,index:x,keyphrase:k.keyphrase,score:k.score,onSaved:a.onSaved,onDeleted:a.onDeleted,onSelectedKeyphrase:a.onSelectedKeyphrase,class:$(["aioseo-keyphrase-tag additional-keyphrase",s.selectedKeyphrase===x?"selected":null])},null,8,["index","keyphrase","score","onSaved","onDeleted","onSelectedKeyphrase","class"]))),128)),u("div",Zr,[o.postEditorStore.currentPost.loading.additional[s.selectedKeyphrase]&&o.postEditorStore.currentPost.keyphrases.additional[s.selectedKeyphrase]&&o.postEditorStore.currentPost.keyphrases.additional[s.selectedKeyphrase].keyphrase?(i(),_(l,{key:0,class:"analysis-loading",dark:""})):h("",!0),!o.postEditorStore.currentPost.loading.additional[s.selectedKeyphrase]&&o.postEditorStore.currentPost.keyphrases.additional[s.selectedKeyphrase]&&o.postEditorStore.currentPost.keyphrases.additional[s.selectedKeyphrase].keyphrase?(i(),_(y,{key:1,analysisItems:o.postEditorStore.currentPost.keyphrases.additional[s.selectedKeyphrase].analysis},null,8,["analysisItems"])):h("",!0)])])):h("",!0),o.rootStore.isPro&&o.licenseStore.license.isActive?(i(),_(C,{key:1,size:"medium",class:$(`add-keyphrase-${t.$root.$data.screenContext}-input`),onKeydown:yt(a.pressEnter,["enter"])},null,8,["class","onKeydown"])):h("",!0),o.rootStore.isPro&&o.licenseStore.license.isActive?(i(),_(T,{key:2,id:"add-additional-keyphrase",class:"add-keyphrase gray medium",onClick:a.addKeyphraseEv},{default:d(()=>[c(P,{width:"14",height:"14"}),A(" "+m(s.strings.addKeyphrase),1)]),_:1},8,["onClick"])):h("",!0),!o.rootStore.isPro||!o.licenseStore.license.isActive?(i(),S(be,{key:3},[u("div",Xr,m(s.strings.keyphraseDocumentation),1),c(b,{class:"inline-upsell",type:"blue"},{default:d(()=>[u("div",{innerHTML:s.strings.upsell},null,8,Jr)]),_:1})],64)):h("",!0)])}const en=I($r,[["render",Qr],["__scopeId","data-v-76e100c0"]]),tn=""+window.__aioseoDynamicImportPreload__("images/open-ai.ofcdxr9l.png"),ne="all-in-one-seo-pack",on={setup(){return{getAssetUrl:Wo,settingsStore:Le(),links:q}},components:{CoreModal:Ie},props:{type:{type:String,required:!0}},data(){return{OpenAiImage:tn,strings:{upgradeToPro:n("Unlock AI Generator",ne),learnMoreLink:R('<a class="feature-link" href="%1$s" target="_blank" rel="noopener noreferrer">%2$s</a> %3$s',q.getUpsellUrl("post-settings","general","open-ai"),n("Learn more about all the features",ne),q.getUpsellLink("post-settings","","general",!0))}}},computed:{headerTitle(){return this.type==="title"?R(n("Generate New SEO %1$s",ne),n("Title",ne)):R(n("Generate New SEO %1$s",ne),n("Description",ne))},ctaHeaderTitle(){return this.type==="title"?R(n("Generating SEO %1$s is a Pro Feature",ne),n("Titles",ne)):R(n("Generating SEO %1$s is a Pro Feature",ne),n("Descriptions",ne))},ctaDescription(){return this.type==="title"?R(n("With our Pro version, you now have access to the powerful feature that generates SEO optimized %1$s with just a click of a button. Say goodbye to manual %2$s creation and hello to increased online visibility.",ne),n("titles",ne),n("title",ne)):R(n("With our Pro version, you now have access to the powerful feature that generates SEO optimized %1$s with just a click of a button. Say goodbye to manual %2$s creation and hello to increased online visibility.",ne),n("meta descriptions",ne),n("description",ne))}}},sn={class:"cta"},rn=["src"],nn={class:"bottom"},an={class:"title"},ln=["innerHTML"];function cn(t,e,r,o,s,a){const g=p("base-button"),l=p("core-modal");return i(),_(l,{classes:["aioseo-ai-generator-modal"],onClose:e[0]||(e[0]=y=>o.settingsStore.setModalState({modalName:"aiGenerator",value:!1}))},{headerTitle:d(()=>[A(m(a.headerTitle),1)]),body:d(()=>[u("div",sn,[u("img",{src:o.getAssetUrl(s.OpenAiImage),alt:"open-ai-upsell"},null,8,rn),u("div",nn,[u("div",null,[u("p",an,m(a.ctaHeaderTitle),1),u("p",null,m(a.ctaDescription),1)]),u("div",null,[c(g,{type:"green",size:"medium",tag:"a",href:o.links.getPricingUrl("post-settings","general","open-ai"),target:"_blank"},{default:d(()=>[A(m(s.strings.upgradeToPro),1)]),_:1},8,["href"]),u("span",{innerHTML:s.strings.learnMoreLink},null,8,ln)])])])]),_:1})}const dn=I(on,[["render",cn]]),un={},pn={class:"aioseo-ai-robot",viewBox:"0 0 16 14",xmlns:"http://www.w3.org/2000/svg"},hn=u("path",{d:"M2.23351 8.73334C1.73351 8.73334 1.31129 8.55996 0.966845 8.2132C0.622412 7.86644 0.450195 7.44537 0.450195 6.95C0.450195 6.45464 0.623579 6.03357 0.970345 5.6868C1.31709 5.34005 1.73815 5.16667 2.23351 5.16667V2.89999C2.23351 2.63332 2.33351 2.39999 2.53351 2.19999C2.73351 1.99999 2.96685 1.89999 3.23351 1.89999H6.21686C6.21686 1.39999 6.39024 0.977765 6.737 0.63332C7.08376 0.288876 7.50483 0.116653 8.0002 0.116653C8.49556 0.116653 8.91663 0.290037 9.2634 0.636803C9.61015 0.983559 9.78353 1.40462 9.78353 1.89999H12.7669C13.0335 1.89999 13.2669 1.99999 13.4669 2.19999C13.6669 2.39999 13.7669 2.63332 13.7669 2.89999V5.16667C14.2669 5.16667 14.6891 5.34005 15.0335 5.6868C15.378 6.03357 15.5502 6.45464 15.5502 6.95C15.5502 7.44537 15.3768 7.86644 15.0301 8.2132C14.6833 8.55996 14.2622 8.73334 13.7669 8.73334V12.2167C13.7669 12.4834 13.6669 12.7167 13.4669 12.9167C13.2669 13.1167 13.0335 13.2167 12.7669 13.2167H3.23351C2.96685 13.2167 2.73351 13.1167 2.53351 12.9167C2.33351 12.7167 2.23351 12.4834 2.23351 12.2167V8.73334ZM5.77731 7.01015C5.97615 7.01015 6.14416 6.94024 6.28136 6.80042C6.41856 6.66061 6.48716 6.48971 6.48716 6.28774C6.48716 6.08577 6.41726 5.91619 6.27745 5.77899C6.13762 5.64179 5.9683 5.57319 5.76946 5.57319C5.57063 5.57319 5.40104 5.64283 5.2607 5.78212C5.12036 5.92141 5.0502 6.09414 5.0502 6.3003C5.0502 6.49914 5.12167 6.66715 5.26463 6.80435C5.40758 6.94155 5.57848 7.01015 5.77731 7.01015ZM10.2309 7.01015C10.4298 7.01015 10.5994 6.94024 10.7397 6.80042C10.88 6.66061 10.9502 6.48971 10.9502 6.28774C10.9502 6.08577 10.8787 5.91619 10.7358 5.77899C10.5928 5.64179 10.4219 5.57319 10.2231 5.57319C10.0242 5.57319 9.85623 5.64283 9.71903 5.78212C9.58183 5.92141 9.51323 6.09414 9.51323 6.3003C9.51323 6.49914 9.58313 6.66715 9.72295 6.80435C9.86277 6.94155 10.0321 7.01015 10.2309 7.01015ZM5.30383 10.25H10.6966V9.14637H5.30383V10.25ZM3.55383 11.8964H12.4466V3.2203H3.55383V11.8964Z",fill:"currentColor"},null,-1),mn=[hn];function gn(t,e){return i(),S("svg",pn,mn)}const _n=I(un,[["render",gn]]),fn="all-in-one-seo-pack",yn={setup(){return{settingsStore:Le()}},components:{AiModal:dn,CoreTooltip:Ce,SvgAiRobot:_n},props:{type:{type:String,required:!0}},data(){return{strings:{useAiGenerator:n("Use AI Generator",fn)}}}},Sn={class:"aioseo-ai-generator"};function kn(t,e,r,o,s,a){const g=p("svg-ai-robot"),l=p("core-tooltip"),y=p("ai-modal");return i(),S("div",Sn,[c(l,{type:"action",offset:"-30px,0"},{tooltip:d(()=>[A(m(s.strings.useAiGenerator),1)]),default:d(()=>[u("button",{type:"button",onClick:e[1]||(e[1]=C=>o.settingsStore.setModalState({modalName:"aiGenerator",value:r.type}))},[c(g,{onClick:e[0]||(e[0]=C=>o.settingsStore.setModalState({modalName:"aiGenerator",value:r.type}))})])]),_:1}),c(y,{show:o.settingsStore.modals.aiGenerator===r.type,type:r.type},null,8,["show","type"])])}const vn=I(yn,[["render",kn]]),bn={setup(){const{getErrorClass:t,getErrorDisplay:e,getScoreClass:r,strings:o}=to();return{getErrorClass:t,getErrorDisplay:e,getScoreClass:r,settingsStore:Le(),strings:o}},components:{CoreTooltip:Ce,SvgCaret:Xe,SvgCircleCheck:vt,SvgCircleQuestionMark:Ct,SvgEllipse:eo,TransitionSlide:ks},props:{slug:{type:String,required:!0},headerText:String,focusScore:Number,trueSeoScore:Number,toggles:{type:Boolean,default(){return!0}},hideHeader:Boolean,noSlide:Boolean,saveToggleStatus:{type:Boolean,default(){return!0}}},watch:{"settingsStore.metaBoxTabs.mainSidebar":{deep:!0,handler(t){this.$root.$data.screenContext==="sidebar"&&this.openCard(t.card)}}},methods:{openCard(t){for(const e in this.settingsStore.settings.toggledCards)this.settingsStore.settings.toggledCards[e]&&this.settingsStore.toggleCard({slug:e});this.settingsStore.toggleCard({slug:t})}},created(){this.openCard(this.settingsStore.metaBoxTabs.mainSidebar.card)}},wn={class:"aioseo-card aioseo-sidebar-card"},Cn={class:"text"},Pn={key:0,class:"content"},En={key:1,class:"content"};function xn(t,e,r,o,s,a){const g=p("svg-ellipse"),l=p("svg-circle-check"),y=p("svg-circle-question-mark"),C=p("core-tooltip"),P=p("svg-caret"),T=p("transition-slide");return i(),S("div",wn,[r.hideHeader?h("",!0):(i(),S("div",{key:0,class:"header",onClick:e[0]||(e[0]=b=>o.settingsStore.toggleCard({slug:r.slug,shouldSave:r.saveToggleStatus}))},[u("div",Cn,[xe(t.$slots,"header",{},()=>[A(m(r.headerText),1)]),r.focusScore>=0?xe(t.$slots,"alt",{key:0},()=>[r.focusScore!==null?(i(),S("span",{key:0,class:$(["card-score",o.getScoreClass(r.focusScore)])},m(r.focusScore)+"/100 ",3)):h("",!0)]):h("",!0),r.trueSeoScore>=0?xe(t.$slots,"alt",{key:1},()=>[u("span",{class:$(["card-score",o.getErrorClass(r.trueSeoScore)])},[0<r.trueSeoScore?(i(),_(g,{key:0,width:"6"})):h("",!0),r.trueSeoScore===0?(i(),_(l,{key:1,width:"12"})):h("",!0),A(" "+m(o.getErrorDisplay(r.trueSeoScore)),1)],2)]):h("",!0),t.$slots.tooltip?(i(),_(C,{key:2},{tooltip:d(()=>[xe(t.$slots,"tooltip")]),default:d(()=>[c(y)]),_:3})):h("",!0)]),r.toggles&&o.settingsStore.settings.toggledCards?(i(),_(P,{key:0,class:$({rotated:!o.settingsStore.settings.toggledCards[r.slug]})},null,8,["class"])):h("",!0)])),o.settingsStore.settings.toggledCards||r.noSlide?(i(),_(T,{key:1,active:o.settingsStore.settings.toggledCards[r.slug]&&r.toggles||r.noSlide},{default:d(()=>[t.$slots["before-tabs"]?(i(),S("div",Pn,[xe(t.$slots,"before-tabs")])):h("",!0),xe(t.$slots,"tabs"),t.$slots.default?(i(),S("div",En,[xe(t.$slots,"default")])):h("",!0)]),_:3},8,["active"])):h("",!0)])}const Tn=I(bn,[["render",xn]]),An={props:{width:Number,height:Number,fillColor:String,strokeColor:String,strokeWidth:Number,data:Array},computed:{getViewBox(){return"0 0 "+this.width+" "+this.height},polylinePoints(){const t=Math.max(...this.data.map(s=>s.x)),e=Math.max(...this.data.map(s=>s.y)),r=this.height-this.strokeWidth,o=this.data.map(s=>{const a=s.x===0?0:s.x/t,g=s.y===0?0:s.y/e,l=a*this.width,y=r-g*r+this.strokeWidth;return`${l},${y}`}).join(" ");return`0,${r+this.strokeWidth} `+o+` ${this.width},${r+this.strokeWidth}`}}},Ln=["width","height","viewBox"],In=["fill","points"],Mn=["stroke","strokeWidth","points"];function On(t,e,r,o,s,a){return i(),S("svg",{width:r.width,height:r.height,viewBox:a.getViewBox,role:"img","aria-hidden":"true",focusable:"false"},[u("polygon",{fill:r.fillColor,points:a.polylinePoints},null,8,In),u("polyline",{fill:"none",stroke:r.strokeColor,strokeWidth:r.strokeWidth,strokeLinejoin:"round",strokeLinecap:"round",points:a.polylinePoints},null,8,Mn)],8,Ln)}const Dn=I(An,[["render",On]]),Bn={},Rn={viewBox:"0 0 158 21",class:"aioseo-logo-semrush"},Hn=u("path",{d:"M108.808 8.212c0-2.579-1.586-4.456-4.628-4.456h-9.826v13.37h3.227v-4.563h3.822l3.742 4.562h3.637v-.29l-3.637-4.351c2.288-.463 3.663-2.13 3.663-4.272zm-4.985 1.653h-6.229V6.533h6.229c1.15 0 1.891.608 1.891 1.666 0 1.084-.714 1.666-1.891 1.666zM157.593 3.756h-3.029v5.078h-8.133V3.756h-3.266v13.383h3.266v-5.277h8.133v5.277h3.029V3.756zM85.72 3.756l-3.598 11.253h-.198l-3.61-11.253H72.56v13.383h3.081V6.149h.185l3.597 10.99h4.96l3.61-10.99h.185v10.99h3.174V3.756h-5.634zM50.57 9.23c-1.138-.118-3.267-.317-4.404-.436-1.124-.119-1.772-.45-1.772-1.19 0-.714.687-1.31 3.464-1.31 2.46 0 4.721.53 6.692 1.482V4.787c-1.97-.939-4.153-1.402-6.864-1.402-3.808 0-6.44 1.587-6.44 4.285 0 2.275 1.547 3.518 4.642 3.861 1.124.12 3.028.291 4.364.397 1.454.12 1.878.569 1.878 1.23 0 .913-1.019 1.468-3.597 1.468-2.619 0-5.277-.86-7.168-2.063v3.081c1.521 1.019 4.14 1.878 7.062 1.878 4.152 0 6.824-1.6 6.824-4.47.026-2.168-1.402-3.478-4.682-3.821zM57.393 3.756v13.383h12.47V14.4h-9.389v-2.71h9.23V8.978h-9.23V6.493h9.39V3.756H57.392zM136.487 9.23c-1.138-.118-3.267-.317-4.404-.436-1.124-.119-1.772-.45-1.772-1.19 0-.714.688-1.31 3.465-1.31 2.459 0 4.721.53 6.691 1.482V4.787c-1.97-.939-4.152-1.402-6.863-1.402-3.809 0-6.44 1.587-6.44 4.285 0 2.275 1.547 3.518 4.641 3.861 1.124.12 3.029.291 4.364.397 1.455.12 1.878.569 1.878 1.23 0 .913-1.018 1.468-3.597 1.468-2.618 0-5.276-.86-7.167-2.063v3.081c1.52 1.019 4.139 1.878 7.061 1.878 4.153 0 6.824-1.6 6.824-4.47.027-2.168-1.402-3.478-4.681-3.821zM121.742 3.756v6.85c0 2.592-1.574 4.02-3.941 4.02-2.38 0-3.941-1.402-3.941-4.06v-6.81h-3.213v6.506c0 4.853 3.028 7.26 7.207 7.26 4.007 0 7.115-2.301 7.115-7.101V3.756h-3.227z",fill:"#020202"},null,-1),Un=u("path",{d:"M30.19 10.368c0 .648-.33.753-1.15.753-.872 0-1.031-.145-1.124-.806-.172-1.68-1.309-3.108-3.213-3.267-.608-.052-.754-.277-.754-1.031 0-.7.106-1.031.648-1.031 3.306.013 5.594 2.67 5.594 5.382zm4.814 0C35.004 5.329 31.593 0 23.711 0H8.054c-.318 0-.516.159-.516.45 0 .158.119.304.225.383.568.45 1.415.952 2.525 1.508 1.085.542 1.931.899 2.777 1.243.357.145.49.304.49.502 0 .278-.199.45-.582.45H.543c-.371 0-.543.238-.543.476 0 .198.066.37.238.542 1.005 1.058 2.618 2.328 4.96 3.796a71.557 71.557 0 006.611 3.636c.344.159.45.344.45.542-.013.225-.185.41-.582.41h-5.7c-.317 0-.502.172-.502.437 0 .145.119.33.278.476 1.295 1.177 3.372 2.46 6.136 3.636C15.579 20.061 19.32 21 23.526 21c7.974 0 11.478-5.964 11.478-10.632zm-10.407 7.445c-4.073 0-7.485-3.32-7.485-7.458 0-4.074 3.399-7.353 7.485-7.353 4.179 0 7.458 3.266 7.458 7.353-.013 4.139-3.28 7.458-7.458 7.458z",fill:"#FF642D"},null,-1),Vn=[Hn,Un];function Kn(t,e){return i(),S("svg",Rn,Vn)}const Fn=I(Bn,[["render",Kn]]),j="all-in-one-seo-pack",Nn={setup(){return{connectStore:bs(),licenseStore:de(),optionsStore:Te(),postEditorStore:W(),rootStore:_e(),semrushStore:qs(),truSeo:new Jt}},components:{CoreAlert:Ee,CoreKeyphrase:go,CoreLoader:Ne,CoreModal:Ie,CoreTooltip:Ce,SvgAreaChart:Dn,SvgCircleCheck:vt,SvgCirclePlus:Pt,SvgLogoSemrush:Fn,SvgTrash:Je,metaboxAnalysisDetail:ot},data(){return{showSemrushTooltip:!1,loadingResults:!1,semrushShowModal:!1,addingAdditionalKeyphrase:!1,removingAdditionalKeyphrase:!1,semrushCountry:{value:"US",label:"United States of America - US"},strings:{modalTitle:R(n("Additional Keyphrases by %1$s",j),"Semrush"),addKeyphrase:n("Add Focus Keyphrase",j),getAdditionalKeyphrases:n("Get Additional Keyphrases",j),showResultsFor:n("Show Results For:",j),keyphrase:n("Keyphrase",j),volume:n("Volume",j),trend:n("Trend",j),addAdditionalKeyphrase:n("Add Keyphrase",j),removeAdditionalKeyphrase:n("Remove Keyphrase",j),noResults:n("No results",j),upsell:R(n("Analyzing your content with %1$s keywords is only available to licensed %2$s users. %3$s",j),"Semrush","<strong>AIOSEO Pro</strong>",q.getUpsellLink("semrush-keywords",Pe.learnMore,null,!0)),semrushGetAdditionalKeyphrases:R(n("%1$s integrates directly with %2$s to provide you with actionable keyphrases to help you write better content.",j),"AIOSEO","Semrush"),pleaseAddFocusKeyphrase:n("To use this feature, first add a focus keyphrase.",j),focusKeyphrase:n("Focus Keyphrase",j),delete:n("Delete",j),semrushTooltip:R(n("Get Additional Keyphrases with %1$s!",j),"Semrush"),semrushTooltipLicenseKey:R(n("%1$sA valid license key is required%2$s in order to connect with %3$s.",j),'<a href="'+this.rootStore.aioseo.urls.aio.settings+'">',"</a>","Semrush"),youHaveExceededSemrush:R(n("You have exceeded the number of requests allowed by your %1$s plan.",j),"Semrush"),inOrderToUpgradeSemrush:R(n("In order to continue searching for additional keyphrases, you'll need to upgrade. %1$s",j),q.getUpsellLink("semrush-pricing",Pe.learnMore,"semrushPricing",!0))}}},watch:{semrushCountry:{deep:!0,handler(){this.getKeyphrases()}}},computed:{semrushError(){return this.semrushStore.error.includes("TOTAL LIMIT EXCEEDED")?n("You have exceeded the limit for requests. Please try again later.",j):n("An error occurred while fetching keyphrases. Please try again later.",j)},semrushDatabase(){return Ho.map(t=>(t.value==="GB"&&(t.value="UK",t.label="United Kingdom"),t.value==="KR"&&(t.label="South Korea"),t)).filter(t=>Uo.includes(t.value.toLowerCase())).map(t=>(t.label=t.label+" - "+t.value.toUpperCase(),t))}},methods:{getAdditionalKeyphrases(){if(this.showSemrushTooltip=!1,!this.connectStore.isConnected){this.openConnectPopup(this.rootStore.aioseo.urls.connect+"&semrush=true");return}if(!this.semrushStore.hasValidTokens){this.openPopup("https://oauth.semrush.com/auth/login?client_id=aioseo&redirect_uri=https%3A%2F%2Foauth.semrush.com%2Foauth2%2Faioseo%2Fsuccess&ref=2190331110&response_type=code&scope=user.id");return}this.openModal()},transformTrendDataToChartPoints(t){return t.split(",").map((r,o)=>({x:o,y:parseFloat(r)}))},openConnectPopup(t){It(t,this.connectWithAioseo,600,630,!0,["token"],this.completedConnectCallback,this.closedConnectCallback)},openPopup(t){It(t,"Semrush Oauth",450,570,!0,["code"],this.completedCallback,this.closedCallback,this.postMessageCallback)},async completedCallback(t){return this.semrushStore.authenticate(t.code)},completedConnectCallback(t){return this.connectStore.saveConnectToken(t.token)},openModal(){this.semrushShowModal=!0,!this.semrushStore.error&&this.getKeyphrases()},getKeyphrases(){this.loadingResults=!0,this.semrushStore.getKeyphrases(this.semrushCountry.value).then(()=>{this.loadingResults=!1}).catch(t=>{this.semrushShowModal=!1,this.loadingResults=!1,console.error(t.message)})},closedCallback(t){t&&this.openModal()},closedConnectCallback(t){if(t){if(this.semrushStore.hasValidTokens){this.$nextTick(this.getAdditionalKeyphrases);return}this.showSemrushTooltip=!0}},async postMessageCallback(t,e,r){const{data:o,source:s,origin:a}=t;if(!(a!=="https://oauth.semrush.com"||e!==s)){if(o.type==="semrush:oauth:success"){window.removeEventListener("message",r,!1);let g={};try{const l=new URL(o.url);g=ze(l.search)}catch{}this.completedCallback(g).then(()=>{e.close(),e=null,this.closedCallback(!0)})}o.type==="semrush:oauth:denied"&&(e.close(),window.removeEventListener("message",r,!1),e=null,this.closedCallback())}},onSaved(t){const{value:e}=t;this.postEditorStore.currentPost.keyphrases.focus.keyphrase=e,this.postEditorStore.currentPost.loading.focus=!0,this.postEditorStore.isDirty=!0,this.truSeo.runAnalysis({postId:this.postEditorStore.currentPost.id,postData:this.postEditorStore.currentPost})},onDeleted(){this.postEditorStore.currentPost.keyphrases.focus.keyphrase="",this.postEditorStore.isDirty=!0,this.truSeo.runAnalysis({postId:this.postEditorStore.currentPost.id,postData:this.postEditorStore.currentPost})},addKeyphraseEv(){const e=document.getElementsByClassName(`add-focus-keyphrase-${this.$root.$data.screenContext}-input`)[0].querySelector(".medium"),r=e==null?void 0:e.value.trim();r&&(this.postEditorStore.currentPost.keyphrases.focus={keyphrase:r,score:0,analysis:{}},this.postEditorStore.currentPost.loading.focus=!0,e.value="",e.blur(),this.postEditorStore.isDirty=!0,this.truSeo.runAnalysis({postId:this.postEditorStore.currentPost.id,postData:this.postEditorStore.currentPost}))},hasAdditionalKeyphrase(t){const{additional:e}=this.postEditorStore.currentPost.keyphrases;return e.filter(r=>r.keyphrase.toLowerCase()===t).length},getAdditionalKeyphrase(t){const{additional:e}=this.postEditorStore.currentPost.keyphrases;return e.find(r=>r.keyphrase.toLowerCase()===t)},scoreClass(t){return 80<t?"score-green":50<t?"score-orange":1<t?"score-red":"score-none"},async addAdditionalKeyphrase(t,e){this.addingAdditionalKeyphrase=e;const{additional:r}=this.postEditorStore.currentPost.keyphrases,o=r.push({keyphrase:t,score:0}),s=document.getElementsByClassName("keyphrase-name");this.postEditorStore.currentPost.keyphrases.additional=r,this.postEditorStore.isDirty=!0,await this.truSeo.runAnalysis({postId:this.postEditorStore.currentPost.id,postData:this.postEditorStore.currentPost}),await this.$nextTick(),s[o]&&s[o].click(),this.addingAdditionalKeyphrase=!1},goToAdditionalKeyphrase(t){const{additional:e}=this.postEditorStore.currentPost.keyphrases,r=e.findIndex(o=>o.keyphrase.toLowerCase()===t);if(r!==-1){const o=document.getElementsByClassName("keyphrase-name");o[r+1]&&o[r+1].click(),this.semrushShowModal=!1}},removeAdditionalKeyphrase(t,e){this.removingAdditionalKeyphrase=e;const{additional:r}=this.postEditorStore.currentPost.keyphrases,o=r.findIndex(s=>s.keyphrase.toLowerCase()===t);if(o!==-1){r.splice(o,1),this.postEditorStore.currentPost.keyphrases.additional=r;const s=document.getElementsByClassName("keyphrase-name");s[0]&&s[0].click()}this.$nextTick(()=>{this.removingAdditionalKeyphrase=!1})},toggleDescriptionEv(t){t.target.parentElement.classList.toggle("toggled")},pressEnter(t){const e=document.getElementById("add-focus-keyphrase");t.preventDefault(),e.click()}},mounted(){const t=[];this.optionsStore.internalOptions.integrations.semrush.accessToken&&this.semrushStore.expired&&t.push(this.semrushStore.refresh())}},Gn={class:"aioseo-focus-keyphrase-panel"},zn={class:"disabled-button gray medium"},qn={class:"disabled-button gray"},jn=["innerHTML"],$n={class:"aioseo-modal-content has-padding"},Wn={class:"aioseo-settings-row"},Yn={class:"settings-name"},Zn={class:"name"},Xn={class:"results"},Jn={"aria-label":"Additional Keyphrases",class:"additional-keyphrases-table",cellpadding:"0",cellspacing:"0"},Qn={class:"keyphrases-header"},ei={class:"keyphrase"},ti={class:"keyphrase-volume"},oi={class:"keyphrase-trend"},si={key:0,class:"keyphrase-actions"},ri={class:"keyphrases-rows"},ni={class:"keyphrase"},ii={class:"keyphrase-volume"},ai={class:"keyphrase-trend"},li={key:0,class:"keyphrase-actions"},ci={key:0,class:"focus-keyphrase"},di={key:1},ui={key:1,class:"remove-keyphrase"},pi=["onClick"],hi={key:1,class:"keyphrase-row"},mi=["colspan"],gi={key:1},_i={class:"semrush-logo"},fi={class:"semrush-upsell"},yi=["innerHTML"],Si=["innerHTML"];function ki(t,e,r,o,s,a){const g=p("base-input"),l=p("svg-circle-plus"),y=p("base-button"),C=p("core-tooltip"),P=p("core-keyphrase"),T=p("core-loader"),b=p("metaboxAnalysisDetail"),k=p("core-alert"),x=p("base-select"),z=p("svg-area-chart"),Q=p("svg-circle-check"),ue=p("svg-trash"),pe=p("svg-logo-semrush"),se=p("core-modal");return i(),S("div",Gn,[!o.postEditorStore.currentPost.keyphrases.focus||!o.postEditorStore.currentPost.keyphrases.focus.keyphrase?(i(),_(g,{key:0,size:"medium",class:$(`add-focus-keyphrase-${t.$root.$data.screenContext}-input`),onKeydown:yt(a.pressEnter,["enter"])},null,8,["class","onKeydown"])):h("",!0),u("div",{class:$(`add-focus-keyphrase-${t.$root.$data.screenContext}-button`)},[!o.postEditorStore.currentPost.keyphrases.focus||!o.postEditorStore.currentPost.keyphrases.focus.keyphrase?(i(),_(y,{key:0,id:"add-focus-keyphrase",class:"add-keyphrase gray medium",onClick:a.addKeyphraseEv},{default:d(()=>[c(l,{width:"14",height:"14"}),A(" "+m(s.strings.addKeyphrase),1)]),_:1},8,["onClick"])):h("",!0),!o.postEditorStore.currentPost.keyphrases.focus||!o.postEditorStore.currentPost.keyphrases.focus.keyphrase?(i(),_(C,{key:1},{tooltip:d(()=>[u("span",null,m(s.strings.semrushGetAdditionalKeyphrases)+" "+m(s.strings.pleaseAddFocusKeyphrase),1)]),default:d(()=>[u("div",zn,[c(l,{width:"14",height:"14"}),A(" "+m(s.strings.getAdditionalKeyphrases),1)])]),_:1})):h("",!0)],2),o.postEditorStore.currentPost.keyphrases.focus&&o.postEditorStore.currentPost.keyphrases.focus.keyphrase?(i(),_(P,{key:1,index:0,keyphrase:o.postEditorStore.currentPost.keyphrases.focus.keyphrase,score:o.postEditorStore.currentPost.keyphrases.focus.score,onSaved:a.onSaved,onDeleted:a.onDeleted,class:"aioseo-keyphrase-tag"},null,8,["keyphrase","score","onSaved","onDeleted"])):h("",!0),o.postEditorStore.currentPost.loading.focus&&o.postEditorStore.currentPost.keyphrases.focus?(i(),_(T,{key:2,class:"analysis-loading",dark:""})):h("",!0),!o.postEditorStore.currentPost.loading.focus&&o.postEditorStore.currentPost.keyphrases.focus&&o.postEditorStore.currentPost.keyphrases.focus.keyphrase?(i(),_(b,{key:3,analysisItems:o.postEditorStore.currentPost.keyphrases.focus.analysis},null,8,["analysisItems"])):h("",!0),!o.postEditorStore.currentPost.loading.focus&&o.postEditorStore.currentPost.keyphrases.focus&&o.postEditorStore.currentPost.keyphrases.focus.keyphrase&&o.rootStore.isPro&&o.licenseStore.isUnlicensed?(i(),_(C,{key:4},{tooltip:d(()=>[u("span",{innerHTML:s.strings.semrushTooltipLicenseKey},null,8,jn)]),default:d(()=>[u("div",qn,[c(l,{width:"14",height:"14"}),A(" "+m(s.strings.getAdditionalKeyphrases),1)])]),_:1})):h("",!0),!o.postEditorStore.currentPost.loading.focus&&o.postEditorStore.currentPost.keyphrases.focus&&o.postEditorStore.currentPost.keyphrases.focus.keyphrase&&(!o.rootStore.isPro||!o.licenseStore.isUnlicensed)?(i(),_(C,{key:5,disabled:!s.showSemrushTooltip||o.rootStore.isPro,"force-show":s.showSemrushTooltip&&!o.rootStore.isPro},{tooltip:d(()=>[u("span",null,m(s.strings.semrushTooltip),1)]),default:d(()=>[c(y,{class:"add-keyphrase gray medium",onClick:a.getAdditionalKeyphrases},{default:d(()=>[c(l,{width:"14",height:"14"}),A(" "+m(s.strings.getAdditionalKeyphrases),1)]),_:1},8,["onClick"])]),_:1},8,["disabled","force-show"])):h("",!0),c(se,{show:s.semrushShowModal,onClose:e[1]||(e[1]=V=>s.semrushShowModal=!1),classes:["aioseo-focus-keyphrase-panel-modal"]},{headerTitle:d(()=>[A(m(s.strings.modalTitle),1)]),body:d(()=>[u("div",$n,[o.licenseStore.isUnlicensed?(i(),_(k,{key:0,type:"blue",innerHTML:s.strings.upsell},null,8,["innerHTML"])):h("",!0),u("div",Wn,[u("div",Yn,[u("div",Zn,m(s.strings.showResultsFor),1)]),c(x,{class:"semrush-country-selector",size:"medium",options:a.semrushDatabase,placeholder:s.strings.selectPriceIndicator,modelValue:s.semrushCountry,"onUpdate:modelValue":e[0]||(e[0]=V=>s.semrushCountry=V)},null,8,["options","placeholder","modelValue"])]),u("div",Xn,[u("table",Jn,[u("thead",null,[u("tr",Qn,[u("th",ei,m(s.strings.keyphrase),1),u("th",ti,m(s.strings.volume),1),u("th",oi,m(s.strings.trend),1),o.licenseStore.isUnlicensed?h("",!0):(i(),S("th",si))])]),u("tbody",ri,[o.semrushStore.results.length&&!s.loadingResults?(i(!0),S(be,{key:0},Ue(o.semrushStore.results,(V,Y)=>(i(),S("tr",{class:$(["keyphrase-row",{even:Y%2===0}]),key:Y},[u("td",ni,m(V[0]),1),u("td",ii,m(V[1]),1),u("td",ai,[c(z,{width:66,height:24,data:a.transformTrendDataToChartPoints(V[2]),strokeWidth:1.8,strokeColor:"#498afc",fillColor:"#ade3fc"},null,8,["data"])]),o.licenseStore.isUnlicensed?h("",!0):(i(),S("td",li,[V[0]===o.postEditorStore.currentPost.keyphrases.focus.keyphrase.toLowerCase()?(i(),S("div",ci,[c(Q),A(" "+m(s.strings.focusKeyphrase),1)])):h("",!0),V[0]!==o.postEditorStore.currentPost.keyphrases.focus.keyphrase.toLowerCase()?(i(),S("div",di,[Y!==s.removingAdditionalKeyphrase&&(Y===s.addingAdditionalKeyphrase||!a.hasAdditionalKeyphrase(V[0]))?(i(),_(y,{key:0,type:"gray",size:"medium",onClick:he=>a.addAdditionalKeyphrase(V[0],Y),loading:Y===s.addingAdditionalKeyphrase},{default:d(()=>[A(m(s.strings.addAdditionalKeyphrase),1)]),_:2},1032,["onClick","loading"])):h("",!0),a.getAdditionalKeyphrase(V[0])&&Y!==s.addingAdditionalKeyphrase&&(Y===s.removingAdditionalKeyphrase||a.hasAdditionalKeyphrase(V[0]))?(i(),S("div",ui,[u("span",{class:$(["keyphrase-score",a.scoreClass(a.getAdditionalKeyphrase(V[0]).score)]),onClick:he=>a.goToAdditionalKeyphrase(V[0])},m(a.getAdditionalKeyphrase(V[0]).score)+"/100",11,pi),c(C,{type:"action"},{tooltip:d(()=>[A(m(s.strings.delete),1)]),default:d(()=>[c(ue,{onClick:he=>a.removeAdditionalKeyphrase(V[0],Y)},null,8,["onClick"])]),_:2},1024)])):h("",!0)])):h("",!0)]))],2))),128)):h("",!0),!o.semrushStore.results.length||s.loadingResults?(i(),S("tr",hi,[u("td",{colspan:o.licenseStore.isUnlicensed?3:4,class:"no-results"},[u("div",null,[s.loadingResults?(i(),_(T,{key:0,dark:""})):h("",!0),!s.loadingResults&&!o.semrushStore.error?(i(),S("span",gi,m(s.strings.noResults),1)):h("",!0),o.semrushStore.error&&!o.semrushStore.error.includes("TOTAL LIMIT EXCEEDED")?(i(),_(k,{key:2,type:"red"},{default:d(()=>[A(m(a.semrushError),1)]),_:1})):h("",!0),o.semrushStore.error&&o.semrushStore.error.includes("TOTAL LIMIT EXCEEDED")?(i(),S(be,{key:3},[u("div",_i,[c(pe)]),u("div",fi,[u("span",null,[u("strong",{innerHTML:s.strings.youHaveExceededSemrush},null,8,yi)]),A(" "+m(" ")+" "),u("span",{innerHTML:s.strings.inOrderToUpgradeSemrush},null,8,Si)])],64)):h("",!0)])],8,mi)])):h("",!0)])])])])]),_:1},8,["show"])])}const vi=I(Nn,[["render",ki]]),je="all-in-one-seo-pack",bi={setup(){return{postEditorStore:W(),rootStore:_e()}},components:{CoreAlert:Ee,CoreMainTabs:De,metaboxAnalysisDetail:ot},data(){return{initTab:"basic",tabs:[{slug:"basic",name:n("Basic SEO",je)},{slug:"title",name:n("Title",je)},{slug:"readability",name:n("Readability",je)}]}},computed:{parseTabs(){return this.tabs.map(t=>(t.errorCount=this.postEditorStore.currentPost.page_analysis.analysis[t.slug].errors,t))},pageBuilderAlert(){if(!We()||!["elementor","divi"].includes(this.rootStore.aioseo.integration))return!1;const t=this.rootStore.aioseo.integration.charAt(0).toUpperCase()+this.rootStore.aioseo.integration.slice(1);return R(n("We have detected that you are currently using the %1$s Page Builder. Please click %2$shere%3$s to use the %1$s editor for a most accurate result.",je),t,'<a href="'+this.postEditorStore.currentPost.editlink+'">',"</a>")}},methods:{processChangeTab(t){this.initTab=t}}},wi={class:"page-analysis-panel"},Ci=["innerHTML"];function Pi(t,e,r,o,s,a){const g=p("core-alert"),l=p("core-main-tabs"),y=p("metaboxAnalysisDetail");return i(),S("div",wi,[a.pageBuilderAlert?(i(),_(g,{key:0,type:"yellow"},{default:d(()=>[u("span",{innerHTML:a.pageBuilderAlert},null,8,Ci)]),_:1})):h("",!0),c(l,{tabs:a.parseTabs,showSaveButton:!1,active:s.initTab,internal:"",onChanged:e[0]||(e[0]=C=>a.processChangeTab(C))},null,8,["tabs","active"]),c(Ge,{mode:"out-in"},{default:d(()=>[o.postEditorStore.currentPost.page_analysis?(i(),_(y,{key:0,analysisItems:o.postEditorStore.currentPost.page_analysis.analysis[s.initTab]},null,8,["analysisItems"])):h("",!0)]),_:1})])}const Ei=I(bi,[["render",Pi]]),$e="all-in-one-seo-pack",xi={emits:["changeTab"],setup(){return{licenseStore:de(),postEditorStore:W(),hasRequiredFeature:He.hasCoreFeature("general","cornerstone-content"),GLOBAL_STRINGS:Pe,links:q}},components:{CoreAlert:Ee},data(){return{license:He,strings:{description:n("Cornerstone content refers to the most  important and informative articles or pages on your website that serve as the foundation for your content strategy. AIOSEO uses cornerstone content for",$e),linkingRecommendations:n("internal linking recommendations in Link Assistant.",$e),upsell:R(n("Cornerstone Content is a %1$s feature. %2$s",$e),"PRO",q.getUpsellLink("post-settings-general",Pe.learnMore,"cornerstone-content",!0)),markAsCornerstone:n("Mark as Cornerstone",$e)}}}},Ti={class:"cornerstone-content-panel"},Ai={class:"cornerstone-content-text"},Li=["innerHTML"],Ii=["innerHTML"];function Mi(t,e,r,o,s,a){const g=p("base-toggle"),l=p("core-alert");return i(),S("div",Ti,[u("p",Ai,[u("span",null,m(s.strings.description),1),u("a",{href:"#",onClick:e[0]||(e[0]=ae(y=>t.$emit("changeTab",{main:"linkAssistant",sub:"link-suggestions"}),["stop","prevent"]))},m(s.strings.linkingRecommendations),1),u("span",{innerHTML:o.links.getDocLink(o.GLOBAL_STRINGS.learnMore,"cornerstoneContent",!0)},null,8,Li)]),c(g,{modelValue:o.postEditorStore.currentPost.pillar_content,"onUpdate:modelValue":[e[1]||(e[1]=y=>o.postEditorStore.currentPost.pillar_content=y),e[2]||(e[2]=y=>o.postEditorStore.isDirty=!0)],disabled:!o.hasRequiredFeature},{default:d(()=>[A(m(s.strings.markAsCornerstone),1)]),_:1},8,["modelValue","disabled"]),o.licenseStore.isUnlicensed||!o.hasRequiredFeature?(i(),_(l,{key:0,class:"inline-upsell",type:"blue"},{default:d(()=>[u("div",{innerHTML:s.strings.upsell},null,8,Ii)]),_:1})):h("",!0)])}const Oi=I(xi,[["render",Mi]]),J="all-in-one-seo-pack",Di={emits:["changeTab"],setup(){const{parseTags:t}=wt({separator:void 0}),{maxRecommendedCount:e}=bt(),{watchHighlightSentences:r}=Cr(),{runAnalysis:o,strings:s}=to();return{composableStrings:s,licenseStore:de(),maxRecommendedCount:e,optionsStore:Te(),parseTags:t,postEditorStore:W(),rootStore:_e(),runAnalysis:o,seoPreviewStore:Ps(),settingsStore:Le(),tagsStore:Eo(),truSeoHighlighterStore:tt(),watchHighlightSentences:r}},components:{AdditionalKeyphrases:en,AiGenerator:vn,BaseRadioToggle:oo,CoreAlert:Ee,CoreGoogleSearchPreview:Ss,CoreHtmlTagsEditor:Et,CoreSettingsRow:we,CoreSidebarCard:Tn,CoreTooltip:Ce,CoreProBadge:vs,FocusKeyphrase:vi,MetaboxAnalysisDetail:ot,PageAnalysis:Ei,CornerstoneContent:Oi,SvgCircleQuestionMark:Ct,SvgDesktop:ws,SvgMobile:Cs,SvgPencil:kt},props:{disabled:{type:Boolean,default(){return!1}},parentComponentContext:String},data(){return{license:He,allowed:Ae,isPageBuilderEditor:Re,titleCount:0,descriptionCount:0,keywords:null,keyphrases:null,selectedKeyphrase:0,editSnippet:!1,truSeo:null,titleKey:"title0",descriptionKey:"description0",strings:Wt(this.composableStrings,{pageName:n("General",J),serpPreview:n("SERP Preview",J),serpPreviewDocumentation:n("SERP: Search Engine Results Page preview. Your site's potential appearance in Google search results. Final display may vary, but this preview closely resembles it.",J),editSnippet:n("Edit Snippet",J),clickToAddTitle:n("Click on the tags below to insert variables into your title.",J),metaDescription:n("Meta Description",J),clickToAddDescription:n("Click on the tags below to insert variables into your meta description.",J),cornerstoneContent:n("Cornerstone Content",J),focusKeyphrase:n("Focus Keyphrase",J),additionalKeyphrases:n("Additional Keyphrases",J),pageAnalysis:n("Page Analysis",J),basicSeo:n("Basic SEO",J),title:n("Title",J),readability:n("Readability",J),lookingForMetaKeywords:n("Looking for meta keywords?",J),goToAdvancedTab:n("Go to the Advanced tab to add/edit meta keywords",J),autogenerateDescriptionsAlert:R(n("Warning: You have disabled Autogenerate Descriptions and are using the default description format. %1$s will not output a description unless you enter a custom one. You can enable Autogenerate Descriptions under %2$s.",J),"AIOSEO",q.getPlainLink(n("Search Appearance > Advanced",J),this.rootStore.aioseo.urls.aio.searchAppearance+"#/advanced")),keyphraseDocumentation:R(n("Not sure what keyphrases are used for? Check out our documentation for more information. %1$s",J),q.getDocLink(Pe.learnMore,"useKeyphrasesTooltip",!0))})}},watch:{"postEditorStore.currentPost.title"(){rt(()=>this.runAnalysis({postId:this.postEditorStore.currentPost.id}),750)},"postEditorStore.currentPost.description"(){rt(()=>this.runAnalysis({postId:this.postEditorStore.currentPost.id}),750)},"truSeoHighlighterStore.highlightSentences"(t,e){rt(()=>this.watchHighlightSentences(t,e))}},computed:{title(){return R(n("%1$s Title",J),this.postEditorStore.currentPost.type)},toggled:function(){return this.postEditorStore.currentPost.pillar_content===1},displayTruSeoMetaboxCard(){return it()&&this.$root.$data.screenContext==="metabox"&&this.postEditorStore.currentPost.context==="post"&&this.parentComponentContext!=="modal"&&Ae("aioseo_page_analysis")&&!this.isForum},displayTruSeoSidebarKeyphraseCard(){return it()&&this.$root.$data.screenContext==="sidebar"&&this.parentComponentContext!=="modal"&&Ae("aioseo_page_analysis")&&!this.isForum},displayTruSeoSidebarAnalysisCard(){return it()&&this.$root.$data.screenContext==="sidebar"&&this.postEditorStore.currentPost.page_analysis&&this.parentComponentContext!=="modal"&&Ae("aioseo_page_analysis")&&!this.isForum},isForum(){return this.rootStore.aioseo.data.isBBPressActive&&(this.postEditorStore.currentPost.postType==="forum"||this.postEditorStore.currentPost.postType==="topic"||this.postEditorStore.currentPost.postType==="reply")},focusKeyphraseScore(){return this.postEditorStore.currentPost.keyphrases.focus.keyphrase?this.postEditorStore.currentPost.keyphrases.focus.score:null},showAutogenerateDescriptionsAlert(){return this.optionsStore.internalOptions.internal.deprecatedOptions.includes("autogenerateDescriptions")?(this.postEditorStore.currentPost.context==="post"?this.optionsStore.dynamicOptions.searchAppearance.postTypes[this.postEditorStore.currentPost.postType].metaDescription:this.optionsStore.dynamicOptions.searchAppearance.taxonomies[this.postEditorStore.currentPost.termType].metaDescription)===this.postEditorStore.currentPost.description&&!this.optionsStore.options.deprecated.searchAppearance.advanced.autogenerateDescriptions:!1}},methods:{hideKeywordsLooking(){this.optionsStore.options.searchAppearance.advanced.keywordsLooking=!1,this.optionsStore.saveChanges()},isMobilePreviewEv(t){this.postEditorStore.changeGeneralPreview(t)},editSnippetEv(){this.editSnippet=!this.editSnippet,this.settingsStore.changeTabSettings({setting:"modal",value:"general"}),this.postEditorStore.currentPost.modalOpen=!0},getDefaultTags(t){switch(t){case"title":return this.postEditorStore.currentPost.context==="post"?["post_title","separator_sa","site_title"]:["taxonomy_title","separator_sa","site_title"];case"description":return this.postEditorStore.currentPost.context==="post"?this.postEditorStore.currentPost.postType==="attachment"?["attachment_caption","separator_sa","site_title"]:this.postEditorStore.currentPost.postType==="product"?["post_excerpt","post_content"]:["post_excerpt","post_content","separator_sa"]:["taxonomy_title","separator_sa","taxonomy_description"]}},getFocusKeyphraseTooltipOffset(){return xo()?"-15px,0":Re()?"35px,0":"0,0"}},mounted(){this.keyphrases=this.postEditorStore.currentPost.keyphrases,this.postEditorStore.currentPost.context==="post"&&!this.postEditorStore.currentPost.keyphrases.length&&(this.selectedKeyphrase=-1),window.aioseoBus.$on("updateTitleKey",()=>{this.titleKey="title"+Math.random(0,999)}),window.aioseoBus.$on("updateDescriptionKey",()=>{this.descriptionKey="description"+Math.random(0,999)})}},Bi={class:"aioseo-tab-content aioseo-post-general"},Ri=["innerHTML"],Hi=["innerHTML"],Ui=["innerHTML"],Vi={key:0},Ki=["innerHTML"],Fi=["innerHTML"];function Ni(t,e,r,o,s,a){const g=p("svg-circle-question-mark"),l=p("core-tooltip"),y=p("svg-desktop"),C=p("svg-mobile"),P=p("base-radio-toggle"),T=p("core-google-search-preview"),b=p("svg-pencil"),k=p("base-button"),x=p("core-settings-row"),z=p("ai-generator"),Q=p("core-html-tags-editor"),ue=p("core-alert"),pe=p("core-pro-badge"),se=p("cornerstone-content"),V=p("focus-keyphrase"),Y=p("additional-keyphrases"),he=p("page-analysis"),re=p("core-sidebar-card"),fe=p("metabox-analysis-detail");return i(),S("div",Bi,[s.allowed("aioseo_page_general_settings")?(i(),_(x,{key:0,class:"snippet-preview-row","no-right-max-width":""},{name:d(()=>[u("div",null,[u("span",null,m(s.strings.serpPreview),1),c(l,{offset:t.$root.$data.screenContext==="sidebar"&&r.parentComponentContext==="metabox"?"10px,0":"50px,0",placement:"bottom"},{tooltip:d(()=>[A(m(s.strings.serpPreviewDocumentation),1)]),default:d(()=>[c(g)]),_:1},8,["offset"])]),t.$root.$data.screenContext==="metabox"||r.parentComponentContext==="modal"?(i(),_(P,{key:0,modelValue:o.postEditorStore.currentPost.generalMobilePrev,"onUpdate:modelValue":a.isMobilePreviewEv,name:"previewGeneralIsMobile",class:"circle",options:[{label:"desktop",value:!1,activeClass:"dark",slot:"desktop"},{label:"mobile",value:!0,slot:"mobile"}]},{desktop:d(()=>[c(y)]),mobile:d(()=>[c(C)]),_:1},8,["modelValue","onUpdate:modelValue"])):h("",!0)]),content:d(()=>{var N,F,Z;return[c(T,{"focus-keyphrase":((Z=(F=(N=o.postEditorStore.currentPost)==null?void 0:N.keyphrases)==null?void 0:F.focus)==null?void 0:Z.keyphrase)??"",device:t.$root.$data.screenContext==="sidebar"&&r.parentComponentContext==="metabox"||o.postEditorStore.currentPost.generalMobilePrev?"mobile":"desktop",url:o.tagsStore.liveTags.permalink,title:o.parseTags(o.postEditorStore.currentPost.title||o.postEditorStore.currentPost.tags.title||"#post_title #separator_sa #site_title"),description:o.parseTags(o.postEditorStore.currentPost.description||o.postEditorStore.currentPost.tags.description||"#post_content"),"rich-results":o.seoPreviewStore.richResults},null,8,["focus-keyphrase","device","url","title","description","rich-results"]),t.$root.$data.screenContext==="sidebar"&&r.parentComponentContext!=="modal"?(i(),_(k,{key:0,class:"edit-snippet gray small",onClick:a.editSnippetEv},{default:d(()=>[c(b),A(" "+m(s.strings.editSnippet),1)]),_:1},8,["onClick"])):h("",!0)]}),_:1})):h("",!0),(t.$root.$data.screenContext==="metabox"||r.parentComponentContext==="modal")&&s.allowed("aioseo_page_general_settings")?(i(),_(x,{id:"aioseo-post-settings-post-title-row",class:"snippet-title-row",name:a.title,key:s.titleKey},{content:d(()=>[c(Q,{modelValue:o.postEditorStore.currentPost.title,"onUpdate:modelValue":[e[0]||(e[0]=N=>o.postEditorStore.currentPost.title=N),e[2]||(e[2]=N=>o.postEditorStore.isDirty=!0)],"line-numbers":!1,single:"",onCounter:e[1]||(e[1]=N=>s.titleCount=N.length),"tags-context":`${o.postEditorStore.currentPost.postType||o.postEditorStore.currentPost.termType}Title`,defaultMenuOrientation:r.parentComponentContext==="modal"?"top":"bottom","default-tags":a.getDefaultTags("title")},{"tags-description":d(()=>[A(m(s.strings.clickToAddTitle),1)]),"append-button":d(()=>[o.postEditorStore.currentPost.postType&&!s.isPageBuilderEditor()?(i(),_(z,{key:0,type:"title"})):h("",!0)]),_:1},8,["modelValue","tags-context","defaultMenuOrientation","default-tags"]),u("div",{class:"max-recommended-count",innerHTML:o.maxRecommendedCount(s.titleCount,60)},null,8,Ri)]),_:1},8,["name"])):h("",!0),(t.$root.$data.screenContext==="metabox"||r.parentComponentContext==="modal")&&s.allowed("aioseo_page_general_settings")?(i(),_(x,{id:"aioseo-post-settings-meta-description-row",class:"snippet-description-row",name:s.strings.metaDescription,key:s.descriptionKey},{content:d(()=>[a.showAutogenerateDescriptionsAlert?(i(),_(ue,{key:0,type:"yellow"},{default:d(()=>[u("span",{innerHTML:s.strings.autogenerateDescriptionsAlert},null,8,Hi)]),_:1})):h("",!0),c(Q,{modelValue:o.postEditorStore.currentPost.description,"onUpdate:modelValue":[e[3]||(e[3]=N=>o.postEditorStore.currentPost.description=N),e[5]||(e[5]=N=>o.postEditorStore.isDirty=!0)],"line-numbers":!1,description:"",onCounter:e[4]||(e[4]=N=>s.descriptionCount=N.length),"tags-context":`${o.postEditorStore.currentPost.postType||o.postEditorStore.currentPost.termType}Description`,defaultMenuOrientation:r.parentComponentContext==="modal"?"top":"bottom","default-tags":a.getDefaultTags("description")},{"tags-description":d(()=>[A(m(s.strings.clickToAddDescription),1)]),"append-button":d(()=>[o.postEditorStore.currentPost.postType&&!s.isPageBuilderEditor()?(i(),_(z,{key:0,type:"description"})):h("",!0)]),_:1},8,["modelValue","tags-context","defaultMenuOrientation","default-tags"]),u("div",{class:"max-recommended-count",innerHTML:o.maxRecommendedCount(s.descriptionCount,160)},null,8,Ui)]),_:1},8,["name"])):h("",!0),t.$root.$data.screenContext==="metabox"&&o.postEditorStore.currentPost.context==="post"&&o.postEditorStore.currentPost.postType!=="attachment"&&!s.isPageBuilderEditor()?(i(),_(x,{key:3,id:"aioseo-post-settings-cornerstone-content-row",class:"cornerstone-content-row"},{name:d(()=>[A(m(s.strings.cornerstoneContent)+" ",1),o.licenseStore.isUnlicensed?(i(),_(pe,{key:0})):h("",!0)]),content:d(()=>[c(se,{onChangeTab:e[6]||(e[6]=N=>t.$emit("changeTab",N))})]),_:1})):h("",!0),a.displayTruSeoMetaboxCard?(i(),S(be,{key:4},[o.optionsStore.options.searchAppearance.advanced.useKeywords&&o.optionsStore.options.searchAppearance.advanced.keywordsLooking?(i(),S("div",Vi,[c(ue,{class:"meta-keywords-alert",type:"blue","show-close":"",onCloseAlert:a.hideKeywordsLooking},{default:d(()=>[A(m(s.strings.lookingForMetaKeywords)+" ",1),u("a",{href:"#",onClick:e[7]||(e[7]=ae(N=>t.$emit("changeTab","advanced"),["prevent"]))},m(s.strings.goToAdvancedTab),1),u("a",{class:"no-underline",href:"#",onClick:e[8]||(e[8]=ae(N=>t.$emit("changeTab","advanced"),["prevent"]))},"  ")]),_:1},8,["onCloseAlert"])])):h("",!0),c(x,{id:"aioseo-post-settings-snippet-focus-keyphrase-row",class:"snippet-focus-keyphrase-row",align:""},{name:d(()=>[u("span",null,m(s.strings.focusKeyphrase),1),c(l,{offset:"25px,0"},{tooltip:d(()=>[u("div",{innerHTML:s.strings.keyphraseDocumentation},null,8,Ki)]),default:d(()=>[c(g)]),_:1})]),content:d(()=>[c(V)]),_:1}),c(x,{name:s.strings.additionalKeyphrases,class:"snippet-additional-keyphrases-row"},{content:d(()=>[c(Y)]),_:1},8,["name"])],64)):h("",!0),a.displayTruSeoMetaboxCard&&o.postEditorStore.currentPost.page_analysis?(i(),_(x,{key:5,name:s.strings.pageAnalysis,class:"snippet-page-analysis-row",align:""},{content:d(()=>[c(he)]),_:1},8,["name"])):h("",!0),t.$root.$data.screenContext==="sidebar"&&!s.isPageBuilderEditor()&&r.parentComponentContext!=="modal"?(i(),_(re,{key:6,class:"card-cornerstone-content",slug:"cornerstoneContent","header-text":s.strings.cornerstoneContent},{default:d(()=>[c(se,{onChangeTab:e[9]||(e[9]=N=>t.$emit("changeTab",N))})]),_:1},8,["header-text"])):h("",!0),a.displayTruSeoSidebarKeyphraseCard?(i(),_(re,{key:7,slug:"focus",focusScore:a.focusKeyphraseScore,class:"card-focus-keyphrase"},{header:d(()=>[u("span",null,m(s.strings.focusKeyphrase),1),c(l,{offset:a.getFocusKeyphraseTooltipOffset()},{tooltip:d(()=>[u("div",{innerHTML:s.strings.keyphraseDocumentation},null,8,Fi)]),default:d(()=>[c(g)]),_:1},8,["offset"])]),default:d(()=>[c(V)]),_:1},8,["focusScore"])):h("",!0),a.displayTruSeoSidebarKeyphraseCard?(i(),_(re,{key:8,slug:"additional","header-text":s.strings.additionalKeyphrases,class:"card-additional-keyphrase"},{default:d(()=>[c(Y)]),_:1},8,["header-text"])):h("",!0),a.displayTruSeoSidebarAnalysisCard?(i(),_(re,{key:9,slug:"basicseo","header-text":s.strings.basicSeo,trueSeoScore:o.postEditorStore.currentPost.page_analysis.analysis.basic.errors,class:"card-basic-seo"},{default:d(()=>[c(fe,{analysisItems:o.postEditorStore.currentPost.page_analysis.analysis.basic},null,8,["analysisItems"])]),_:1},8,["header-text","trueSeoScore"])):h("",!0),a.displayTruSeoSidebarAnalysisCard?(i(),_(re,{key:10,slug:"title","header-text":s.strings.title,trueSeoScore:o.postEditorStore.currentPost.page_analysis.analysis.title.errors,class:"card-title-seo"},{default:d(()=>[c(fe,{analysisItems:o.postEditorStore.currentPost.page_analysis.analysis.title},null,8,["analysisItems"])]),_:1},8,["header-text","trueSeoScore"])):h("",!0),a.displayTruSeoSidebarAnalysisCard?(i(),_(re,{key:11,slug:"readability","header-text":s.strings.readability,trueSeoScore:o.postEditorStore.currentPost.page_analysis.analysis.readability.errors,class:"card-readability-seo"},{default:d(()=>[c(fe,{analysisItems:o.postEditorStore.currentPost.page_analysis.analysis.readability},null,8,["analysisItems"])]),_:1},8,["header-text","trueSeoScore"])):h("",!0)])}const _o=I(Di,[["render",Ni]]),Gi={class:"post-title"},zi={key:1},qi={key:1},ji={key:0,class:"btn-view"},$i=["href"],Bt="keyword-rank-tracker-keywords-table",Rt={__name:"KeywordsTable",props:{paginatedKeywords:Object,itemsPerPage:Number},setup(t){const e="all-in-one-seo-pack",r=Ye(),o=_e(),s={openInKeywordRankTracker:n("Open in Keyword Rank Tracker",e),position:n("Position",e),openInKrt:n("Open in Keyword Rank Tracker",e)},a=[{label:Pe.delete,value:"delete"},{label:s.addToGroup,value:"assignGroup"}],g=t,l=ve(null),y=ve([]),{orderBy:C,orderDir:P,pageNumber:T,processAdditionalFilters:b,processChangeItemsPerPage:k,processFilterTable:x,processPagination:z,processSearch:Q,processSort:ue,searchTerm:pe,wpTableKey:se,wpTableLoading:V}=ro({fetchData:r.fetchKeywords,tableId:Bt,tableRef:l.value,resultsPerPage:g.itemsPerPage}),Y=Se(()=>[{slug:"name",label:n("Keyword",e),sortable:1<g.paginatedKeywords.rows.length,sortDir:C.value==="name"?P.value:"asc",sorted:C.value==="name"},{slug:"position",label:n("Position",e),sortable:1<g.paginatedKeywords.rows.length,sortDir:C.value==="position"?P.value:"asc",sorted:C.value==="position",width:"100px"},{slug:"history",label:n("Position History",e),width:"150px"},{slug:"tracking",label:n("Tracking",e),width:"100px"},{slug:"view",label:"",width:"40px"}]),he=(F,Z)=>{var G;let ee=((G=F.statistics)==null?void 0:G[Z])??"";switch(Z){case"position":ee=ee!==""?Math.round(ee).toFixed(0):ee;break}return ee},re=F=>{var Z;return(Z=F.statistics)!=null&&Z.history?[{name:s.position,data:F.statistics.history.map(ee=>({x:ee.date,y:ee.position,label:ee.position}))}]:[]},fe=F=>o.aioseo.urls.aio.searchStatistics+`&search=${encodeURIComponent(F.name)}&aioseo-scroll=keyword-rank-tracker-keywords-table#/keyword-rank-tracker`,N=async(F,Z)=>{y.value[Z]=!0;try{F.id?await r.deleteKeywords([F.id]):await r.insertKeywords({keywords:[F.name]}).then(()=>{F.tracking=!0}).catch(()=>{F.tracking=!1}),await r.fetchKeywords({rows:g.paginatedKeywords.rows}).then(()=>{r.maybeFetchStatistics({context:"keywords"})})}catch(ee){console.error(ee)}finally{y.value=[]}};return(F,Z)=>{const ee=p("base-toggle");return i(),_(v(no),{ref_key:"table",ref:l,id:Bt,"additional-filters":[],"bulk-options":a,columns:Y.value,filters:[],"initial-items-per-page":100,"initial-page-number":v(T),"initial-search-term":v(pe),key:v(se),loading:v(V),rows:t.paginatedKeywords.rows,"selected-filters":{},"show-bulk-actions":!1,"show-header":!1,"show-table-footer":!1,totals:{},"show-items-per-page":!1,"show-pagination":!1,onFilterTable:v(x),onPaginate:v(z),onProcessAdditionalFilters:v(b),onProcessBulkAction:G=>({}),onProcessChangeItemsPerPage:v(k),onSearch:v(Q),onSortColumn:v(ue)},{name:d(({row:G})=>[u("div",Gi,[u("b",null,m(G.name),1)])]),position:d(({row:G})=>[G.statistics===null?(i(),_(v(Ne),{key:0,dark:""})):(i(),S("div",zi,m(he(G,"position")),1))]),history:d(({row:G})=>[G.statistics===null?(i(),_(v(Ne),{key:0,dark:""})):(i(),S("div",qi,[re(G).length?(i(),_(v(ft),{key:0,series:re(G),height:25,preset:"overview","chart-overrides":{tooltip:{y:{formatter:O=>parseFloat(O).toFixed(2)}}}},null,8,["series","chart-overrides"])):h("",!0)]))]),tracking:d(({row:G,index:O})=>[y.value[O]?(i(),_(v(Ne),{key:0,dark:""})):h("",!0),c(ee,{modelValue:G.tracking,"onUpdate:modelValue":[D=>G.tracking=D,D=>N(G,O,D)],disabled:!!y.value[O]},null,8,["modelValue","onUpdate:modelValue","disabled"])]),view:d(({row:G})=>[G.id?(i(),S("div",ji,[u("a",{href:fe(G),target:"_blank"},[c(v(Ce),{type:"action",offset:"-80px,0"},{tooltip:d(()=>[A(m(s.openInKrt),1)]),default:d(()=>[c(v(Qe))]),_:1})],8,$i)])):h("",!0)]),_:1},8,["columns","initial-page-number","initial-search-term","loading","rows","onFilterTable","onPaginate","onProcessAdditionalFilters","onProcessChangeItemsPerPage","onSearch","onSortColumn"])}}},Wi={key:0,class:"keyword-rank-tracker-container"},Yi=["innerHTML"],Zi={class:"keyword-rank-tracker-container__card"},Xi={class:"keyword-rank-tracker-container__card__header"},Ji={class:"keyword-rank-tracker-container__card__body"},Qi=["innerHTML"],ea={class:"keyword-rank-tracker-container__card"},ta={class:"keyword-rank-tracker-container__card__header"},oa={class:"keyword-rank-tracker-container__card__body"},ct="320px",sa={__name:"KeywordRankTracker",setup(t){Po(T=>({"580b842a":ct}));const e="all-in-one-seo-pack",r=Ye(),o=de(),s=_e(),a=Yt(),g=q.getDocLink(n("Learn More",e),"keywordRankTracker",!0),l={...Es().strings,withAioseo:n("Below you can track how your page is performing in search results based on your keyword(s).",e),keywordPositions:n("Keyword Positions",e)},y=Se(()=>!o.isUnlicensed&&He.hasCoreFeature("search-statistics")&&(!a.isConnected||a.unverifiedSite)),C=Se(()=>({rows:r.keywords.all.rows.slice(0,3).map(T=>({...T,tracking:!0}))})),P=Se(()=>{var k;const T={};for(const x of C.value.rows)(k=x==null?void 0:x.statistics)!=null&&k.history&&(T[x.name]=x);const b=[];for(const x in T)b.push({name:x,data:T[x].statistics.history.map(z=>({x:z.date,y:z.position}))});return b});return(T,b)=>(i(),S("div",null,[v(a).shouldShowSampleReports?(i(),S("div",Wi,[u("div",null,[u("span",null,m(l.withAioseo),1),A(),u("span",{innerHTML:v(g)},null,8,Yi)]),u("div",Zi,[u("div",Xi,m(l.keywordPositions),1),u("div",Ji,[c(v(ft),{height:parseInt(ct),series:P.value,loading:!1,"legend-style":"simple","chart-overrides":{tooltip:{y:{formatter:k=>parseFloat(k).toFixed(2)}}}},null,8,["height","series","chart-overrides"])])]),c(v(Rt),{"paginated-keywords":C.value},null,8,["paginated-keywords"])])):(i(),S(be,{key:1},[c(v(et),{class:"keyword-rank-tracker-container"},{default:d(()=>[u("div",null,[u("span",null,m(l.withAioseo),1),A(),u("span",{innerHTML:v(g)},null,8,Qi)]),u("div",ea,[u("div",ta,m(l.keywordPositions),1),u("div",oa,[c(v(ft),{height:parseInt(ct),series:P.value,loading:!1,"legend-style":"simple","chart-overrides":{tooltip:{y:{formatter:k=>parseFloat(k).toFixed(2)}}}},null,8,["height","series","chart-overrides"])])]),c(v(Rt),{"paginated-keywords":C.value},null,8,["paginated-keywords"])]),_:1}),y.value?(i(),_(v(xs),{key:0})):(i(),_(v(xt),{key:1,"cta-second-button-action":"",onCtaSecondButtonClick:v(a).showSampleReports,"cta-link":v(q).getPricingUrl("search-statistics","search-statistics-upsell","keyword-rank-tracker"),"button-text":l.ctaButtonText,"second-button-text":l.ctaSecondButtonText,"cta-second-button-new-badge":"","cta-second-button-visible":"","learn-more-link":v(q).getUpsellUrl("search-statistics","keyword-rank-tracker",v(s).isPro?"pricing":"liteUpgrade"),"feature-list":[l.feature1,l.feature2,l.feature3,l.feature4],"align-top":"","hide-bonus":!v(o).isUnlicensed},{"header-text":d(()=>[A(m(l.ctaHeader),1)]),description:d(()=>[c(v(io),{"core-feature":["search-statistics"]}),A(" "+m(l.ctaDescription),1)]),_:1},8,["onCtaSecondButtonClick","cta-link","button-text","second-button-text","learn-more-link","feature-list","hide-bonus"]))],64))]))}},Ht=I(sa,[["__scopeId","data-v-6bf4070c"]]),ra={__name:"KeywordRankTracker",props:{modalOpen:Boolean},emits:["update:modalOpen"],setup(t,{emit:e}){const r="all-in-one-seo-pack",o=de(),s=Yt(),a=e,g={headerTitle:n("Keyword Performance Tracking",r)},l=Se(()=>s.isConnected&&!s.unverifiedSite);return(y,C)=>(i(),_(v(Ie),{show:t.modalOpen,onClose:C[0]||(C[0]=P=>a("update:modalOpen",!1)),classes:["keyword-rank-tracker-main"]},{headerTitle:d(()=>[A(m(g.headerTitle),1)]),body:d(()=>[u("div",{class:$(["keyword-rank-tracker-main__body",{"keyword-rank-tracker-main__body--disable-click":v(s).shouldShowSampleReports}])},[!v(o).isUnlicensed&&v(He).hasCoreFeature("search-statistics","keyword-rank-tracker")&&l.value?(i(),_(v(Ht),{key:0})):(i(),_(v(Ht),{key:1}))],2)]),_:1},8,["show"]))}},na={},ia={viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"aioseo-right-arrow-short"},aa=u("path",{d:"M8 0L6.59 1.41L12.17 7H0V9H12.17L6.59 14.59L8 16L16 8L8 0Z",fill:"currentColor"},null,-1),la=[aa];function ca(t,e){return i(),S("svg",ia,la)}const Tt=I(na,[["render",ca]]),dt="all-in-one-seo-pack",da={setup(){return{postEditorStore:W()}},components:{CoreSettingsRow:we,SvgRightArrowShort:Tt},data(){return{strings:{title:n("Link Assistant",dt),description:n("Here you can view an overview of your existing links as well as find suggestions for new internal links. Click on the button below to view the Link Assistant panel.",dt),button:n("Open Link Assistant",dt)}}}},ua={class:"aioseo-link-assistant-sidebar"},pa={class:"aioseo-sidebar-content-title"};function ha(t,e,r,o,s,a){const g=p("svg-right-arrow-short"),l=p("base-button"),y=p("core-settings-row");return i(),S("div",ua,[t.$root.$data.screenContext==="sidebar"?(i(),_(y,{key:0,class:"snippet-description-row open-link-assistant-copy"},{content:d(()=>[u("div",pa,m(s.strings.title),1),u("p",null,m(s.strings.description),1),c(l,{class:"open-link-assistant-modal gray small",onClick:e[0]||(e[0]=C=>o.postEditorStore.currentPost.linkAssistant.modalOpen=!0)},{default:d(()=>[c(g),A(" "+m(s.strings.button),1)]),_:1})]),_:1})):h("",!0)])}const ma=I(da,[["render",ha]]),ga=()=>{const t=(e,r)=>{const o=Oe(r);let s=null;return e.forEach(a=>{if(s||!a.attributes)return;if(a.attributes.content&&a.attributes.content.search(o)!==-1){s=a.clientId;return}if(!a.innerBlocks)return;const g=t(a.innerBlocks,r);g&&(s=g)}),s};return{findTargetBlock:t}},ke="all-in-one-seo-pack",_a=(t={})=>{const{emit:e,linkType:r,linksReport:o,metabox:s,pageNumber:a,post:g,postIndex:l,postReport:y,refreshTable:C=()=>{},wpTableLoading:P}=t,T=ve(""),b="linkAssistantPostsReport",k=ve([]),x=ve(!1),z=Se(()=>{if(!s)return g.links[r].rows;const O=a.value===1?0:(a.value-1)*10;return g.links[r].rows.slice(O,O+10)}),Q={frontPage:n("Front Page",ke),deleteLink:n("Delete Link",ke)},ue={areYouSureSingle:n("Are you sure you want to delete this link?",ke),areYouSureMultiple:n("Are you sure you want to delete these links?",ke),areYouSureAll:n("Are you sure you want to delete all links?",ke),actionCannotBeUndone:n("This action cannot be undone.",ke),yesSingle:n("Yes, I want to delete this link",ke),yesMultiple:n("Yes, I want to delete these links",ke),yesAll:n("Yes, I want to delete all links",ke),noChangedMind:n("No, I changed my mind",ke)},pe=[{label:n("Delete",ke),value:"delete"}],se=To(),V=W(),Y=O=>{window.aioseoBus.$emit("updatingLinks",!0);const D={...O,additionalFilters:{postId:g.ID||V.currentPost.id,postIndex:l,type:r}};return se[y?"fetchPostReport":"fetchLinksReportInner"](D).finally(()=>{window.aioseoBus.$emit("updatingLinks",!1)})},he=O=>{window.location.href=`#/post-report?postId=${g.ID}&postIndex=${l}&initialTab=${O}`},re=({action:O,selectedRows:D})=>{!D.length||!O||(T.value=O,k.value=D,x.value=!0)},fe=()=>{if(x.value=!1,!!k.value.length){if(typeof k.value=="number"){N(k.value);return}if(s&&r!=="inboundInternal"){G(k.value).forEach(D=>{F(D)});return}window.aioseoBus.$emit("updatingLinks",!0),se.linksBulk({postIndex:l,postId:g.ID||V.currentPost.id,action:T.value,linkType:r,linkIds:k.value,linksReport:o,postReport:y}).finally(()=>{window.aioseoBus.$emit("updatingLinks",!1),e("linksUpdated"),C()})}},N=O=>{const D=g.links[r].rows[O].id;if(D){if(s&&r!=="inboundInternal"){F(O);return}window.aioseoBus.$emit("updatingLinks",!0),se.linkDelete({postIndex:l,postId:g.ID||V.currentPost.id,linkId:D,linksReport:o,postReport:y}).finally(()=>{window.aioseoBus.$emit("updatingLinks",!1),e("linksUpdated"),C()})}},F=O=>{We()&&(window.aioseoBus.$emit("updatingLinks",!1),Z(O),window.aioseoBus.$emit("updatingLinks",!1)),$t()&&ee(O)},Z=O=>{const D=V.currentPost.linkAssistant.links[r].rows[O];if(!D)return;window.aioseoBus.$emit("updatingLinks",!0);const X=Oe(D.anchor.trim()),H=D.phrase_html.trim(),f=Oe(H),E=window.wp.data.select("core/block-editor").getBlocks(),{findTargetBlock:w}=ga(),L=w(E,H);if(!L){window.aioseoBus.$emit("updatingLinks",!1);return}const M=window.wp.data.select("core/block-editor").getBlock(L);if(!M){window.aioseoBus.$emit("updatingLinks",!1);return}let U=new RegExp(`(<t?a[^<>]*>)(.*)?(${X})(.*)?(</t?a[^<>]*>)`,"i");const K=H.replace(U,"$2$3$4");U=new RegExp(`${f}`,"i"),window.wp.data.dispatch("core/block-editor").updateBlockAttributes(L,{content:M.attributes.content.replace(U,K)}).then(()=>{g.links[r].rows.splice(O,1)}).catch(B=>{console.error(`Couldn	 delete link with type "${r}" and index ${O}:`,B)}).finally(()=>{window.aioseoBus.$emit("updatingLinks",!1),e("linksUpdated")})},ee=O=>{var K;const D=V.currentPost.linkAssistant.links[r].rows[O];if(!D||!window.tinyMCE)return;window.aioseoBus.$emit("updatingLinks",!0);let X="",H=null,f=null;if(document.querySelector("#wp-content-wrap.tmce-active")?(H=window.tinyMCE.get("content"),X=H.getContent({format:"raw"})):(f=document.querySelector("textarea#content"),X=f?f.value:""),!X){window.aioseoBus.$emit("updatingLinks",!1);return}let E=D.phrase_html.trim();H||(E=E.replace(/(\sdata-mce-href=".*")/gi,""));const w=Oe(D.anchor.trim());let L=new RegExp(`(<t?a[^<>]*>)(.*)?(${w})(.*)?(</t?a[^<>]*>)`,"i");const M=E.replace(L,"$2$3$4"),U=Oe(E);L=new RegExp(`${U}`,"i"),X=X.replace(L,M),H?H.setContent(X):f.value=X,g.links[r].rows.splice(O,1),(K=se.postSettingsUpdate({postContent:X}))==null||K.finally(()=>{window.aioseoBus.$emit("updatingLinks",!1),e("linksUpdated")})},G=O=>{let D,X=[];return Array.isArray(O)&&(D=O.map(Number)),D&&g.links[r].rows.forEach((H,f)=>{D.includes(H.id)&&X.push(f)}),O==="all"&&(X=g.links[r].rows.map((H,f)=>f)),X.sort(function(H,f){return f-H})};return qt(()=>{window.aioseoBus.$on("updatingLinks",O=>{P.value=O}),a.value=se.postReport[r].totals.page}),{bulkOptions:pe,changeItemsPerPageSlug:b,doBulkAction:fe,fetchData:Y,maybeDoBulkAction:re,modalStrings:ue,openPostReport:he,rows:z,selectedRows:k,showModal:x,strings:Q}},fa={emits:["closeModal","doBulkAction"],components:{CoreModal:Ie,SvgClose:St},props:{selectedRows:{required:!0},strings:{type:Object,required:!0},show:Boolean},computed:{areYouSure(){return this.selectedRows==="all"?this.strings.areYouSureAll:Array.isArray(this.selectedRows)&&1<this.selectedRows.length?this.strings.areYouSureMultiple:this.strings.areYouSureSingle},confirmation(){return this.selectedRows==="all"?this.strings.yesAll:Array.isArray(this.selectedRows)&&1<this.selectedRows.length?this.strings.yesMultiple:this.strings.yesSingle}}},ya={class:"aioseo-modal-body"},Sa=["innerHTML"];function ka(t,e,r,o,s,a){const g=p("svg-close"),l=p("base-button"),y=p("core-modal");return i(),_(y,{show:r.show,classes:["aioseo-link-assistant-confirmation-modal"],"no-header":"",onClose:e[4]||(e[4]=C=>t.$emit("closeModal",!0))},{body:d(()=>[u("div",ya,[u("button",{class:"close",onClick:e[1]||(e[1]=ae(C=>t.$emit("closeModal",!0),["stop"]))},[c(g,{onClick:e[0]||(e[0]=C=>t.$emit("closeModal",!0))})]),u("h3",null,m(a.areYouSure),1),u("div",{class:"reset-description",innerHTML:r.strings.actionCannotBeUndone},null,8,Sa),c(l,{type:"blue",size:"medium",onClick:e[2]||(e[2]=C=>t.$emit("doBulkAction",C))},{default:d(()=>[A(m(a.confirmation),1)]),_:1}),c(l,{type:"gray",size:"medium",onClick:e[3]||(e[3]=C=>t.$emit("closeModal",!0))},{default:d(()=>[A(m(r.strings.noChangedMind),1)]),_:1})])]),_:1},8,["show"])}const va=I(fa,[["render",ka]]),ba={components:{CoreTooltip:Ce},props:{phrase:{type:String,required:!0},phraseHtml:{type:String,required:!0},anchor:{type:String,required:!0},url:{type:String,required:!0},tooltip:{type:Boolean,required:!1,default:!0},clickableAnchor:{type:Boolean,default(){return!1}}},computed:{partPattern(){const t=Ve.decode(this.anchor),e=Oe(t);return new RegExp(`(.*)(<t?a[^>]*>.*${e}.*</t?a>)(.*)`,"i")},firstPart(){return Ve.decode(this.stripTags(this.getPart(1)).trimStart())},linkAnchor(){return Ve.decode(this.stripTags(this.getPart(2)))},lastPart(){return Ve.decode(this.stripTags(this.getPart(3)).trimEnd())}},methods:{getPart(t){const r=Ve.decode(this.stripTags(this.phraseHtml,!0)).match(this.partPattern);return r?r[t]:""},stripTags(t,e=!1){return t=t.replace(/<br\s?\/?>/gi," "),e?t.replace(/<(?!a\s)(?!\/a)[^>]*>/gi,""):t.replace(/<[^>]*>/gi,"")},maybeOpenLink(){this.clickableAnchor&&window.open(this.url,"_blank").focus()}}},wa={class:"phrase"},Ca={key:0,class:"first"},Pa=["href"],Ea={key:2},xa={class:"anchor"},Ta={key:3,class:"last"};function Aa(t,e,r,o,s,a){const g=p("core-tooltip");return i(),S("div",{class:"aioseo-link-assistant-phrase",onMouseover:e[1]||(e[1]=l=>t.$emit("mouseOver")),onMouseleave:e[2]||(e[2]=l=>t.$emit("mouseLeave"))},[u("span",wa,[a.firstPart?(i(),S("span",Ca,m(a.firstPart),1)):h("",!0),r.tooltip?(i(),_(g,{key:1,type:"action"},{tooltip:d(()=>[u("a",{class:"tooltip-url",href:r.url,target:"_blank"},m(r.url),9,Pa)]),default:d(()=>[u("span",{class:"anchor",onClick:e[0]||(e[0]=(...l)=>a.maybeOpenLink&&a.maybeOpenLink(...l))},m(a.linkAnchor),1)]),_:1})):h("",!0),r.tooltip?h("",!0):(i(),S("div",Ea,[u("span",xa,m(a.linkAnchor),1)])),a.lastPart?(i(),S("span",Ta,m(a.lastPart),1)):h("",!0)]),xe(t.$slots,"icons")],32)}const La=I(ba,[["render",Aa]]),Ia={},Ma={viewBox:"0 0 17 10",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"aioseo-link-suggestion"},Oa=u("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M7.66699 7.43742H4.33366C2.95866 7.43742 1.83366 6.31242 1.83366 4.93742C1.83366 3.56242 2.95866 2.43742 4.33366 2.43742H7.66699V0.770752H4.33366C2.03366 0.770752 0.166992 2.63742 0.166992 4.93742C0.166992 7.23742 2.03366 9.10408 4.33366 9.10408H7.66699V7.43742ZM12.667 0.770752H9.33366V2.43742H12.667C14.042 2.43742 15.167 3.56242 15.167 4.93742C15.167 6.31242 14.042 7.43742 12.667 7.43742H9.33366V9.10408H12.667C14.967 9.10408 16.8337 7.23742 16.8337 4.93742C16.8337 2.63742 14.967 0.770752 12.667 0.770752ZM11.8337 4.10409H5.16699V5.77075H11.8337V4.10409Z",fill:"currentColor"},null,-1),Da=[Oa];function Ba(t,e){return i(),S("svg",Ma,Da)}const At=I(Ia,[["render",Ba]]),Ra={key:0},Ha={key:0,class:"row-actions"},Ua={class:"view"},Va=["href"],Ka={class:"edit"},Fa=["href"],Na={key:0,class:"links-bottom"},Ga={class:"links-bottom-left"},za={key:1},qa={class:"links-bottom-right"},ja="inboundInternal",Ut="aioseo-post-report-inbound-internal",$a={__name:"InboundInternal",props:{post:{type:Object,required:!0},postIndex:{type:Number,required:!1},postId:{type:Number,required:!1},linksReport:{type:Boolean,default(){return!1}},postReport:{type:Boolean,default(){return!1}},metabox:{type:Boolean,default(){return!1}}},emits:["linksUpdated","openSuggestions"],setup(t,{emit:e}){const r="all-in-one-seo-pack",o=_e(),s=Le(),a=t,g=e,l=ve(1),y=ve(!1),{bulkOptions:C,changeItemsPerPageSlug:P,doBulkAction:T,fetchData:b,maybeDoBulkAction:k,modalStrings:x,openPostReport:z,rows:Q,selectedRows:ue,showModal:pe,strings:se}=_a({emit:g,linkType:ja,linksReport:a.linksReport,metabox:a.metabox,pageNumber:l,post:a.post,postIndex:a.postIndex,postReport:a.postReport,refreshTable:()=>fe(),wpTableLoading:y}),{editPost:V,viewPost:Y}=Ts(),{processChangeItemsPerPage:he,processFetchTableData:re,refreshTable:fe,wpTableKey:N}=ro({changeItemsPerPageSlug:P,fetchData:b,pageNumber:l,tableId:Ut,wpTableLoading:y}),F=Wt(se,{deleteAllLinks:R(n("Delete All %1$s Links",r),n("Inbound Internal",r)),outboundSuggestions:R(n("%1$s Link Suggestions",r),n("Inbound",r))}),Z=Se(()=>[{slug:"post_title",label:n("Post Title",r)},{slug:"phrase",label:n("Phrase",r)},{slug:"delete",width:"50px"}]),ee=Se(()=>R(n("See All %1$s %2$s Links",r),a.post.links.inboundInternal.totals.total,n("Inbound Internal",r))),G=O=>{l.value=O,!a.metabox&&(y.value=!0,re().then(()=>y.value=!1))};return(O,D)=>{const X=p("base-button");return i(),S("div",null,[(i(),_(v(no),{id:Ut,key:v(N),class:$({"link-assistant-inner-table":!t.postReport}),columns:Z.value,loading:y.value,rows:v(Q),totals:t.post.links.inboundInternal.totals,"bulk-options":v(C),"initial-items-per-page":v(s).settings.tablePagination.linkAssistantPostsReport,"initial-page-number":l.value,"show-pagination":!t.linksReport,"show-search":!1,"show-table-footer":t.postReport,"show-items-per-page":"",onPaginate:G,onProcessBulkAction:v(k),onProcessChangeItemsPerPage:v(he)},{post_title:d(({row:H})=>{var f,E;return[u("span",null,[A(m(H.context.postTitle)+" ",1),((E=(f=H.context)==null?void 0:f.permalink)==null?void 0:E.replace(/\/$/,""))===v(o).aioseo.urls.home?(i(),S("span",Ra,"("+m(v(F).frontPage)+")",1)):h("",!0)]),H.context?(i(),S("div",Ha,[u("span",Ua,[u("a",{href:H.context.permalink,target:"_blank"},m(v(Y)(H.context.postType.singular)),9,Va),A(" | ")]),u("span",Ka,[u("a",{href:H.context.editLink,target:"_blank"},m(v(V)(H.context.postType.singular)),9,Fa)])])):h("",!0)]}),phrase:d(({row:H})=>[c(v(La),{phrase:H.phrase,phraseHtml:H.phrase_html||"",anchor:H.anchor,url:H.url,clickableAnchor:!0},null,8,["phrase","phraseHtml","anchor","url"])]),delete:d(({row:H})=>[c(v(Ce),{type:"action"},{tooltip:d(()=>[A(m(v(F).deleteLink),1)]),default:d(()=>[c(v(Je),{onClick:f=>v(k)({action:"delete",selectedRows:[H.id]})},null,8,["onClick"])]),_:2},1024)]),_:1},8,["class","columns","loading","rows","totals","bulk-options","initial-items-per-page","initial-page-number","show-pagination","show-table-footer","onProcessBulkAction","onProcessChangeItemsPerPage"])),t.postReport?h("",!0):(i(),S("div",Na,[u("div",Ga,[t.post.links.inboundInternal.rows.length?(i(),_(X,{key:0,type:"blue",tag:"button",onClick:D[0]||(D[0]=H=>g("openSuggestions"))},{default:d(()=>[c(v(At)),A(" "+m(v(F).outboundSuggestions),1)]),_:1})):h("",!0),t.post.links.inboundInternal.totals.total>5&&t.linksReport?(i(),S("div",za,[c(v(lo)),u("a",{class:"link-view",href:"#",onClick:D[1]||(D[1]=ae(H=>v(z)("inbound-internal"),["prevent"]))},m(ee.value),1)])):h("",!0)]),u("div",qa,[t.post.links.inboundInternal.rows.length?(i(),S("a",{key:0,class:"link-delete",onClick:D[2]||(D[2]=ae(H=>v(k)({action:"delete",selectedRows:"all"}),["prevent"]))},m(v(F).deleteAllLinks),1)):h("",!0)])])),c(v(va),{show:v(pe),selectedRows:v(ue),strings:v(x),onDoBulkAction:v(T),onCloseModal:D[3]||(D[3]=H=>pe.value=!1)},null,8,["show","selectedRows","strings","onDoBulkAction"])])}}},le="all-in-one-seo-pack",Wa={setup(){return{licenseStore:de(),postEditorStore:W(),rootStore:_e(),links:q}},components:{CoreAlert:Ee,CoreBlur:et,CoreMainTabs:De,CoreModal:Ie,Cta:xt,LinkAssistantInboundInternal:$a,LinksSideBar:ma,SvgLinkAffiliate:As,SvgLinkExternal:lo,SvgLinkInternalInbound:Ls,SvgLinkInternalOutbound:Is,SvgLinkSuggestion:At,RequiredPlans:io},props:{parentComponentContext:String},data(){return{activeTab:"inbound-internal",activeSuggestionTab:"suggestions-inbound",mockedPostData:{links:{inboundInternal:{rows:[{phrase:"Are you looking for an easy way to do an SEO analysis for your website?",anchor:"SEO analysis",url:"#",context:{postTitle:"How to Perform an SEO Analysis on Your WordPress Website",permalink:"#",editLink:"#",postType:{singular:"Post"}}},{phrase:"AIOSEO also allows you to create video sitemaps and comes with tons of different SEO tools.",anchor:"video sitemaps",url:"#",context:{postTitle:"How to Create WordPress Image Sitemap",permalink:"#",editLink:"#",postType:{singular:"Post"}}},{phrase:"You may also want to check out how to name your image files for SEO in WordPress and write alt text for images.",anchor:"how to name your image files for SEO in WordPress",url:"#",context:{postTitle:"Whats the Best Image Format for Your Website?",permalink:"#",editLink:"#",postType:{singular:"Post"}}},{phrase:"Are you looking for an easy way to do an SEO analysis for your website?",anchor:"SEO analysis",url:"#",context:{postTitle:"How to Perform an SEO Analysis on Your WordPress Website",permalink:"#",editLink:"#",postType:{singular:"Post"}}},{phrase:"To learn more, please check out our post on image SEO: how to best optimize your images in WordPress. ",anchor:"image SEO",url:"#",context:{postTitle:"How to Write Alt Text for Images for SEO",permalink:"#",editLink:"#",postType:{singular:"Post"}}},{phrase:"So lets now move on to showing you exactly how easy it is to import and export redirects using the best redirect plugin for WordPress.",anchor:"best redirect plugin for WordPress",url:"#",context:{postTitle:"How to Easily Import and Export Redirects in WordPress",permalink:"#",editLink:"#",postType:{singular:"Post"}}}],totals:{total:6}},outboundInternal:{totals:{total:12}},affiliate:{totals:{total:8}},external:{totals:{total:24}},suggestionsInbound:{totals:{total:9}},suggestionsOutbound:{totals:{total:9}}}},strings:{ctaButtonText:n("Unlock Link Assistant",le),ctaHeader:R(n("Link Assistant is a %1$s Feature",le),"PRO"),linkAssistantDescription:n("Get relevant suggestions for adding internal links to all your content as well as finding any orphaned posts that have no internal links.",le),thisFeatureRequires:n("This feature requires one of the following plans:",le),linkOpportunities:n("Actionable Link Suggestions",le),orphanedPosts:n("See Orphaned Posts",le),affiliateLinks:n("See Affiliate Links",le),domainReports:n("Top Domain Reports",le)}}},computed:{initialTab(){return"inbound-internal"},tabs(){return[{slug:"inbound-internal",icon:"svg-link-internal-inbound",name:R("%1$s %2$s",this.mockedPostData.links.inboundInternal.totals.total,n("Inbound Internal",le))},{slug:"outbound-internal",icon:"svg-link-internal-outbound",name:R("%1$s %2$s",this.mockedPostData.links.outboundInternal.totals.total,n("Outbound Internal",le))},{slug:"affiliate",icon:"svg-link-affiliate",name:R("%1$s %2$s",this.mockedPostData.links.affiliate.totals.total,n("Affiliate",le))},{slug:"external",icon:"svg-link-external",name:R("%1$s %2$s",this.mockedPostData.links.external.totals.total,n("External",le))},{slug:"link-suggestions",icon:"svg-link-suggestion",name:R("%1$s %2$s",this.mockedPostData.links.suggestionsOutbound.totals.total+this.mockedPostData.links.suggestionsInbound.totals.total,n("Link Suggestions",le))}]},modalHeader(){return R(n('Links & Suggestions for "%1$s"',le),window.wp.data.select("core/editor").getEditedPostAttribute("title"))}}},Ya={class:"aioseo-tab-content aioseo-link-assistant"},Za={key:0};function Xa(t,e,r,o,s,a){const g=p("core-main-tabs"),l=p("link-assistant-inbound-internal"),y=p("core-blur"),C=p("required-plans"),P=p("cta"),T=p("core-modal"),b=p("links-side-bar");return i(),S("div",Ya,[t.$root.$data.screenContext==="metabox"?(i(),S("div",Za,[c(y,null,{default:d(()=>[c(g,{class:"link-tabs",internal:"",tabs:a.tabs,active:a.initialTab,showSaveButton:!1},{"var-tab-icon":d(({tab:k})=>[(i(),_(ye(k.icon),{class:$([{warning:k.warning}])},null,8,["class"]))]),_:1},8,["tabs","active"]),s.activeTab==="inbound-internal"?(i(),_(l,{key:0,post:s.mockedPostData,metabox:""},null,8,["post"])):h("",!0)]),_:1}),c(P,{"cta-link":o.links.getPricingUrl("link-assistant","link-assistant-upsell","metabox"),"button-text":s.strings.ctaButtonText,"learn-more-link":o.links.getUpsellUrl("link-assistant","metabox",o.rootStore.isPro?"pricing":"liteUpgrade"),"feature-list":[s.strings.linkOpportunities,s.strings.domainReports,s.strings.orphanedPosts,s.strings.affiliateLinks],"hide-bonus":!o.licenseStore.isUnlicensed},{"header-text":d(()=>[A(m(s.strings.ctaHeader),1)]),description:d(()=>[c(C,{addon:"aioseo-link-assistant"}),A(" "+m(s.strings.linkAssistantDescription),1)]),_:1},8,["cta-link","button-text","learn-more-link","feature-list","hide-bonus"])])):h("",!0),c(T,{show:o.postEditorStore.currentPost.linkAssistant.modalOpen&&t.$root.$data.screenContext==="sidebar",classes:["aioseo-link-assistant-modal"],onClose:e[0]||(e[0]=k=>o.postEditorStore.currentPost.linkAssistant.modalOpen=!1)},{headerTitle:d(()=>[A(m(a.modalHeader),1)]),body:d(()=>[c(y,null,{default:d(()=>[c(g,{class:"link-tabs",internal:"",tabs:a.tabs,active:a.initialTab,showSaveButton:!1},{"var-tab-icon":d(({tab:k})=>[(i(),_(ye(k.icon),{class:$([{warning:k.warning}])},null,8,["class"]))]),_:1},8,["tabs","active"]),s.activeTab==="inbound-internal"?(i(),_(l,{key:0,post:s.mockedPostData,metabox:""},null,8,["post"])):h("",!0)]),_:1}),c(P,{"cta-link":o.links.getPricingUrl("link-assistant","link-assistant-upsell","metabox"),"button-text":s.strings.ctaButtonText,"learn-more-link":o.links.getUpsellUrl("link-assistant","metabox",o.rootStore.isPro?"pricing":"liteUpgrade"),"feature-list":[s.strings.linkOpportunities,s.strings.domainReports,s.strings.orphanedPosts,s.strings.affiliateLinks],"hide-bonus":!o.licenseStore.isUnlicensed},{"header-text":d(()=>[A(m(s.strings.ctaHeader),1)]),description:d(()=>[c(C,{addon:"aioseo-link-assistant"}),A(" "+m(s.strings.linkAssistantDescription),1)]),_:1},8,["cta-link","button-text","learn-more-link","feature-list","hide-bonus"])]),_:1},8,["show"]),r.parentComponentContext!=="modal"?(i(),_(b,{key:1})):h("",!0)])}const Vt=I(Wa,[["render",Xa]]),Ja={};function Qa(t,e){return i(),S("div")}const el=I(Ja,[["render",Qa]]),tl={setup(){return{addons:ao,licenseStore:de()}},components:{Links:Vt,LinksActivate:el,LinksLite:Vt},props:{parentComponentContext:String}},ol={class:"aioseo-tab-content aioseo-link-assistant"};function sl(t,e,r,o,s,a){const g=p("Links",!0),l=p("LinksLite"),y=p("LinksActivate");return i(),S("div",ol,[!o.licenseStore.isUnlicensed&&o.addons.isActive("aioseo-link-assistant")&&!o.addons.requiresUpgrade("aioseo-link-assistant")?(i(),_(g,{key:0,parentComponentContext:r.parentComponentContext},null,8,["parentComponentContext"])):h("",!0),o.licenseStore.isUnlicensed||o.addons.requiresUpgrade("aioseo-link-assistant")?(i(),_(l,{key:1,parentComponentContext:r.parentComponentContext},null,8,["parentComponentContext"])):h("",!0),!o.licenseStore.isUnlicensed&&!o.addons.isActive("aioseo-link-assistant")&&o.addons.canActivate("aioseo-link-assistant")&&!o.addons.requiresUpgrade("aioseo-link-assistant")?(i(),_(y,{key:2,parentComponentContext:r.parentComponentContext},null,8,["parentComponentContext"])):h("",!0)])}const rl=I(tl,[["render",sl]]),Ke="all-in-one-seo-pack",fo=()=>{const t=Se(()=>[{groupLabel:n("Default",Ke),options:[{label:n("Default Object Type (Set in Social Networks)",Ke),value:"default"}]}].concat(Vo)),e=[{label:n("Default (Set under Social Networks)",Ke),value:"default"},{label:n("Summary",Ke),value:"summary"},{label:n("Summary with Large Image",Ke),value:"summary_large_image"}];return{getObjectTypeLabelByOption:s=>{let a="";return t.value.forEach(g=>{const l=g.options.find(y=>y.value===s);l&&(a=(l==null?void 0:l.label)||"")}),a},getTwitterCardLabelByOption:s=>{var a;return((a=e.find(g=>g.value===s))==null?void 0:a.label)||""},objectTypeOptions:t,twitterCardOptions:e}},te="all-in-one-seo-pack",nl={setup(){const{getImageSourceOptionFiltered:t,getTermImageSourceOptions:e,imageSourceOptionsFiltered:r,imageUrl:o,loading:s,setImageUrl:a}=co(),{maxRecommendedCount:g}=bt(),{objectTypeOptions:l}=fo(),{parseTags:y}=wt({separator:void 0});return{getImageSourceOptionFiltered:t,getTermImageSourceOptions:e,imageSourceOptionsFiltered:r,imageUrl:o,loading:s,maxRecommendedCount:g,objectTypeOptions:l,optionsStore:Te(),parseTags:y,postEditorStore:W(),rootStore:_e(),setImageUrl:a}},components:{CoreAlert:Ee,CoreFacebookPreview:Ms,CoreHtmlTagsEditor:Et,CoreImageUploader:po,CoreSettingsRow:we},props:{isMobilePreview:{type:Boolean,default(){return!1}}},data(){return{tags:uo,titleCount:0,descriptionCount:0,strings:{tabName:n("Facebook Preview",te),imageSource:n("Image Source",te),customFieldsName:n("Custom Field Name",te),video:n("Video URL",te),width:n("Width",te),height:n("Height",te),facebookObjectType:n("Object Type",te),facebookImage:n("Facebook Image",te),facebookTitle:n("Facebook Title",te),facebookDescription:n("Facebook Description",te),minimumSize:n("Minimum size: 200px x 200px, ideal ratio 1.91:1, 5MB max. (eg: 1640px x 856px or 3280px x 1712px for Retina screens). JPG, PNG, WEBP and GIF formats only.",te),clickToAddSiteName:n("Click on the tags below to insert variables into your site name.",te),clickToAddHomePageDescription:n("Click on the tags below to insert variables into your meta description.",te),articleSection:n("Article Section",te),articleTags:n("Article Tags",te),tagPlaceholder:n("Press enter to create an article tag",te),facebookDisabled:R(n("No %1$s markup will be output for your post because it is currently disabled. You can enable %1$s markup in the Social Networks settings. %2$s",te),n("Open Graph",te),R('<a href="%1$s" target="_blank">%2$s<span class="link-right-arrow">&nbsp;&rarr;</span></a>',this.rootStore.aioseo.urls.aio.socialNetworks+"#facebook",n("Go to Social Networks",te)))}}},watch:{"postEditorStore.currentPost.og_image_type"(){this.handleImageUpdate()},"postEditorStore.currentPost.og_image_custom_url"(){this.handleImageUpdate()}},computed:{previewTitle(){return this.parseTags(this.postEditorStore.currentPost.og_title||this.postEditorStore.currentPost.title||this.postEditorStore.currentPost.tags.title||"#post_title #separator_sa #site_title")},previewDescription(){return this.parseTags(this.postEditorStore.currentPost.og_description||this.postEditorStore.currentPost.description||this.postEditorStore.currentPost.tags.description||"#post_content")},shouldShowArticleSection(){const t=this.postEditorStore.currentPost.context==="term"?"taxonomies":"postTypes";return this.postEditorStore.currentPost.og_object_type==="article"||this.postEditorStore.currentPost.og_object_type==="default"&&this.optionsStore.dynamicOptions.social.facebook.general[t][this.postEditorStore.currentPost.postType||this.postEditorStore.currentPost.termType].objectType==="article"}},methods:{scrollToElement(){const t=document.getElementsByClassName("component-wrapper")[0];setTimeout(()=>{t&&(t.firstChild.scrollTop=0)},10)},saveImageType(t){this.postEditorStore.currentPost.og_image_type=t,this.postEditorStore.isDirty=!0},getObjectTypeOptions(t){let e=null;return this.objectTypeOptions.forEach(r=>{const o=r.options.find(s=>s.value===t);o&&(e=o)}),e},setObjectType(t){this.postEditorStore.currentPost.og_object_type=t,this.postEditorStore.isDirty=!0},updateImage(t){this.postEditorStore.currentPost.og_image_custom_url=t,this.postEditorStore.savePostState()},handleImageUpdate(){this.setImageUrl("facebook")}},mounted(){this.scrollToElement(),this.setImageUrl("facebook"),window.aioseoBus.$on("updateFeaturedImage",this.handleImageUpdate)},beforeUnmount(){window.aioseoBus.$off("updateFeaturedImage",this.handleImageUpdate)}},il={class:"tab-facebook"},al={id:"aioseo-post-settings-facebook"},ll=["innerHTML"],cl=["innerHTML"];function dl(t,e,r,o,s,a){const g=p("core-alert"),l=p("core-facebook-preview"),y=p("core-settings-row"),C=p("core-html-tags-editor"),P=p("base-select"),T=p("base-input"),b=p("core-image-uploader");return i(),S("div",il,[c(y,{class:"snippet-preview-row"},{name:d(()=>[u("span",null,m(s.strings.tabName),1)]),content:d(()=>[o.optionsStore.options.social.facebook.general.enable?h("",!0):(i(),_(g,{key:0,class:"facebook-disabled-warning",innerHTML:s.strings.facebookDisabled,type:"red"},null,8,["innerHTML"])),c(l,{description:a.previewDescription,image:o.imageUrl,loading:o.loading,title:a.previewTitle},null,8,["description","image","loading","title"])]),_:1}),u("div",al,[c(y,{name:s.strings.facebookTitle,class:"facebook-title-settings",align:""},{content:d(()=>[c(C,{class:"facebook-meta-input",modelValue:o.postEditorStore.currentPost.og_title,"onUpdate:modelValue":[e[0]||(e[0]=k=>o.postEditorStore.currentPost.og_title=k),e[2]||(e[2]=k=>o.postEditorStore.isDirty=!0)],"line-numbers":!1,single:"",onCounter:e[1]||(e[1]=k=>s.titleCount=k.length),"tags-context":`${o.postEditorStore.currentPost.postType||o.postEditorStore.currentPost.termType}Title`,"default-tags":s.tags.getDefaultTags(o.postEditorStore.currentPost.context==="term"?"taxonomies":null,null,"title")},{"tags-description":d(()=>[A(m(s.strings.clickToAddSiteName),1)]),_:1},8,["modelValue","tags-context","default-tags"]),u("div",{class:"max-recommended-count",innerHTML:o.maxRecommendedCount(s.titleCount,95)},null,8,ll)]),_:1},8,["name"]),c(y,{name:s.strings.facebookDescription,class:"facebook-description-settings",align:""},{content:d(()=>[c(C,{class:"facebook-meta-input",modelValue:o.postEditorStore.currentPost.og_description,"onUpdate:modelValue":[e[3]||(e[3]=k=>o.postEditorStore.currentPost.og_description=k),e[5]||(e[5]=k=>o.postEditorStore.isDirty=!0)],"line-numbers":!1,description:"",onCounter:e[4]||(e[4]=k=>s.descriptionCount=k.length),"tags-context":`${o.postEditorStore.currentPost.postType||o.postEditorStore.currentPost.termType}Description`,"default-tags":s.tags.getDefaultTags(o.postEditorStore.currentPost.context==="term"?"taxonomies":null,null,"description")},{"tags-description":d(()=>[A(m(s.strings.clickToAddHomePageDescription),1)]),_:1},8,["modelValue","tags-context","default-tags"]),u("div",{class:"max-recommended-count",innerHTML:o.maxRecommendedCount(s.descriptionCount,200)},null,8,cl)]),_:1},8,["name"]),c(y,{class:"facebook-image-source",name:s.strings.imageSource,align:""},{content:d(()=>[c(P,{size:"medium",options:o.imageSourceOptionsFiltered,modelValue:o.getImageSourceOptionFiltered(o.postEditorStore.currentPost.og_image_type),"onUpdate:modelValue":e[6]||(e[6]=k=>a.saveImageType(k.value))},null,8,["options","modelValue"])]),_:1},8,["name"]),o.postEditorStore.currentPost.og_image_type==="custom"?(i(),_(y,{key:0,name:s.strings.customFieldsName,align:""},{content:d(()=>[c(T,{type:"text",size:"medium",placeholder:s.strings.placeholder,modelValue:o.postEditorStore.currentPost.og_image_custom_fields,"onUpdate:modelValue":[e[7]||(e[7]=k=>o.postEditorStore.currentPost.og_image_custom_fields=k),e[8]||(e[8]=k=>o.postEditorStore.isDirty=!0)]},null,8,["placeholder","modelValue"])]),_:1},8,["name"])):h("",!0),o.postEditorStore.currentPost.og_image_type==="custom_image"?(i(),_(y,{key:1,class:"facebook-image",name:s.strings.facebookImage},{content:d(()=>[c(b,{description:s.strings.minimumSize,modelValue:o.postEditorStore.currentPost.og_image_custom_url,"onUpdate:modelValue":e[9]||(e[9]=k=>o.postEditorStore.currentPost.og_image_custom_url=k)},null,8,["description","modelValue"])]),_:1},8,["name"])):h("",!0),c(y,{class:"facebook-video",name:s.strings.video,align:""},{content:d(()=>[c(T,{type:"text",size:"medium",modelValue:o.postEditorStore.currentPost.og_video,"onUpdate:modelValue":e[10]||(e[10]=k=>o.postEditorStore.currentPost.og_video=k)},null,8,["modelValue"])]),_:1},8,["name"]),c(y,{class:"facebook-object-type",name:s.strings.facebookObjectType,align:""},{content:d(()=>[c(P,{size:"medium","open-direction":"top",options:o.objectTypeOptions,"group-label":"groupLabel","group-values":"options",modelValue:a.getObjectTypeOptions(o.postEditorStore.currentPost.og_object_type),"onUpdate:modelValue":e[11]||(e[11]=k=>a.setObjectType(k.value))},null,8,["options","modelValue"])]),_:1},8,["name"]),a.shouldShowArticleSection?(i(),_(y,{key:2,name:s.strings.articleSection,align:""},{content:d(()=>[c(T,{type:"text",size:"medium",modelValue:o.postEditorStore.currentPost.og_article_section,"onUpdate:modelValue":e[12]||(e[12]=k=>o.postEditorStore.currentPost.og_article_section=k)},null,8,["modelValue"])]),_:1},8,["name"])):h("",!0),a.shouldShowArticleSection?(i(),_(y,{key:3,name:s.strings.articleTags,align:""},{content:d(()=>[c(P,{multiple:"",taggable:"",options:o.postEditorStore.currentPost.og_article_tags||[],modelValue:o.postEditorStore.currentPost.og_article_tags||[],"onUpdate:modelValue":e[13]||(e[13]=k=>o.postEditorStore.currentPost.og_article_tags=k),"tag-placeholder":s.strings.tagPlaceholder},null,8,["options","modelValue","tag-placeholder"])]),_:1},8,["name"])):h("",!0)])])}const ul=I(nl,[["render",dl]]),ce="all-in-one-seo-pack",pl={setup(){const{getImageSourceOptionFiltered:t,imageSourceOptionsFiltered:e,imageUrl:r,loading:o,setImageUrl:s}=co(),{maxRecommendedCount:a}=bt(),{twitterCardOptions:g}=fo(),{parseTags:l}=wt({separator:void 0});return{getImageSourceOptionFiltered:t,imageSourceOptionsFiltered:e,imageUrl:r,loading:o,maxRecommendedCount:a,optionsStore:Te(),parseTags:l,postEditorStore:W(),rootStore:_e(),setImageUrl:s,twitterCardOptions:g}},components:{CoreAlert:Ee,CoreHtmlTagsEditor:Et,CoreImageUploader:po,CoreSettingsRow:we,CoreTwitterPreview:Os},props:{isMobilePreview:{type:Boolean,default(){return!1}}},data(){return{tags:uo,titleCount:0,descriptionCount:0,facebookImageUrl:"",strings:{twitterPreview:n("X (Twitter) Preview",ce),twitterPreviewDescription:n("X cards by default will use the data defined below. If no data is set, X will instead pick up the data set on the Facebook tab.",ce),useFB:n("Use Data from Facebook Tab",ce),imageSource:n("Image Source",ce),customFieldsName:n("Custom Field Name",ce),twitterImage:n("X Image",ce),twitterTitle:n("X Title",ce),twitterDescription:n("X Description",ce),twitterCardType:n("X Card Type",ce),minimumSizeSummary:n("Minimum size: 144px x 144px, ideal ratio 1:1, 5MB max. JPG, PNG, WEBP and GIF formats only.",ce),minimumSizeSummaryWithLarge:n("Minimum size: 300px x 157px, ideal ratio 2:1, 5MB max. JPG, PNG, WEBP and GIF formats only.",ce),twitterDisabled:R(n("No %1$s markup will be output for your post because it is currently disabled. You can enable %1$s markup in the Social Networks settings. %2$s",ce),n("X (Twitter)",ce),R('<a href="%1$s" target="_blank">%2$s<span class="link-right-arrow">&nbsp;&rarr;</span></a>',this.rootStore.aioseo.urls.aio.socialNetworks+"#twitter",n("Go to Social Networks",ce)))}}},watch:{"postEditorStore.currentPost.twitter_use_og"(){this.handleImageUpdate()},"postEditorStore.currentPost.twitter_image_type"(){this.handleImageUpdate()},"postEditorStore.currentPost.twitter_image_custom_url"(){this.handleImageUpdate()}},computed:{previewTitle(){const t=this.postEditorStore.currentPost.twitter_use_og||!this.postEditorStore.currentPost.twitter_title?this.postEditorStore.currentPost.og_title:this.postEditorStore.currentPost.twitter_title;return this.parseTags(t||this.postEditorStore.currentPost.title||this.postEditorStore.currentPost.tags.title||"#post_title #separator_sa #site_title")},previewDescription(){const t=this.postEditorStore.currentPost.twitter_use_og||!this.postEditorStore.currentPost.twitter_description?this.postEditorStore.currentPost.og_description:this.postEditorStore.currentPost.twitter_description;return this.parseTags(t||this.postEditorStore.currentPost.description||this.postEditorStore.currentPost.tags.description||"#post_content")},previewImage(){return this.postEditorStore.currentPost.twitter_use_og||!this.imageUrl?this.facebookImageUrl:this.imageUrl},twitterImageUploaderDescription(){return this.postEditorStore.currentPost.twitter_card==="summary"||this.postEditorStore.currentPost.twitter_card==="default"&&this.optionsStore.options.social.twitter.general.defaultCardType==="summary"?this.strings.minimumSizeSummary:this.postEditorStore.currentPost.twitter_card==="summary_large_image"||this.postEditorStore.currentPost.twitter_card==="default"&&this.optionsStore.options.social.twitter.general.defaultCardType==="summary_large_image"?this.strings.minimumSizeSummaryWithLarge:""}},methods:{getCardOptions(t){return this.twitterCardOptions.find(e=>e.value===t)},cardSelect(t){this.postEditorStore.currentPost.twitter_card=t,this.postEditorStore.isDirty=!0},scrollToElement(){const t=document.getElementsByClassName("component-wrapper")[0];setTimeout(()=>{t&&(t.firstChild.scrollTop=0)},10)},saveTwitterImageType(t){this.postEditorStore.currentPost.twitter_image_type=t,this.postEditorStore.isDirty=!0},updateImage(t){this.postEditorStore.currentPost.twitter_image_custom_url=t,this.postEditorStore.savePostState()},handleImageUpdate(){this.setImageUrl("twitter")},updateImagePreview(t){t.social==="facebook"&&(this.facebookImageUrl=t.image)}},mounted(){window.aioseoBus.$on("updateSocialImagePreview",this.updateImagePreview),window.aioseoBus.$on("updateFeaturedImage",this.handleImageUpdate),this.scrollToElement(),this.setImageUrl("facebook").then(()=>{this.setImageUrl("twitter")})},beforeUnmount(){window.aioseoBus.$off("updateFeaturedImage",this.handleImageUpdate),window.aioseoBus.$off("updateSocialImagePreview",this.updateImagePreview)}},hl={class:"tab-twitter"},ml={id:"aioseo-post-settings-twitter"},gl=["innerHTML"],_l=["innerHTML"];function fl(t,e,r,o,s,a){const g=p("core-alert"),l=p("core-twitter-preview"),y=p("core-settings-row"),C=p("base-toggle"),P=p("core-html-tags-editor"),T=p("base-select"),b=p("base-input"),k=p("core-image-uploader");return i(),S("div",hl,[c(y,{class:"snippet-preview-row"},{name:d(()=>[u("span",null,m(s.strings.twitterPreview),1)]),description:d(()=>[u("i",null,m(s.strings.twitterPreviewDescription),1)]),content:d(()=>[o.optionsStore.options.social.twitter.general.enable?h("",!0):(i(),_(g,{key:0,class:"twitter-disabled-warning",innerHTML:s.strings.twitterDisabled,type:"red"},null,8,["innerHTML"])),c(l,{card:o.postEditorStore.currentPost.twitter_card,description:a.previewDescription,image:a.previewImage,loading:o.loading,title:a.previewTitle},null,8,["card","description","image","loading","title"])]),_:1}),u("div",ml,[c(y,{name:s.strings.useFB,class:"use-facebook"},{content:d(()=>[c(C,{modelValue:o.postEditorStore.currentPost.twitter_use_og,"onUpdate:modelValue":[e[0]||(e[0]=x=>o.postEditorStore.currentPost.twitter_use_og=x),e[1]||(e[1]=x=>o.postEditorStore.isDirty=!0)]},null,8,["modelValue"])]),_:1},8,["name"]),o.postEditorStore.currentPost.twitter_use_og?h("",!0):(i(),_(y,{key:0,name:s.strings.twitterTitle,class:"twitter-title-settings",align:""},{content:d(()=>[c(P,{class:"twitter-meta-input",modelValue:o.postEditorStore.currentPost.twitter_title,"onUpdate:modelValue":[e[2]||(e[2]=x=>o.postEditorStore.currentPost.twitter_title=x),e[4]||(e[4]=x=>o.postEditorStore.isDirty=!0)],"line-numbers":!1,single:"",onCounter:e[3]||(e[3]=x=>s.titleCount=x.length),"tags-context":`${o.postEditorStore.currentPost.postType||o.postEditorStore.currentPost.termType}Title`,"default-tags":s.tags.getDefaultTags(o.postEditorStore.currentPost.context==="term"?"taxonomies":null,null,"title")},null,8,["modelValue","tags-context","default-tags"]),u("div",{class:"max-recommended-count",innerHTML:o.maxRecommendedCount(s.titleCount,70)},null,8,gl)]),_:1},8,["name"])),o.postEditorStore.currentPost.twitter_use_og?h("",!0):(i(),_(y,{key:1,name:s.strings.twitterDescription,class:"twitter-description-settings",align:""},{content:d(()=>[c(P,{class:"twitter-meta-input",modelValue:o.postEditorStore.currentPost.twitter_description,"onUpdate:modelValue":[e[5]||(e[5]=x=>o.postEditorStore.currentPost.twitter_description=x),e[7]||(e[7]=x=>o.postEditorStore.isDirty=!0)],"line-numbers":!1,description:"",onCounter:e[6]||(e[6]=x=>s.descriptionCount=x.length),"tags-context":`${o.postEditorStore.currentPost.postType||o.postEditorStore.currentPost.termType}Description`,"default-tags":s.tags.getDefaultTags(o.postEditorStore.currentPost.context==="term"?"taxonomies":null,null,"description")},{"tags-description":d(()=>[A(m(s.strings.clickToAddHomePageDescription),1)]),_:1},8,["modelValue","tags-context","default-tags"]),u("div",{class:"max-recommended-count",innerHTML:o.maxRecommendedCount(s.descriptionCount,200)},null,8,_l)]),_:1},8,["name"])),o.postEditorStore.currentPost.twitter_use_og?h("",!0):(i(),_(y,{key:2,class:"twitter-image-source",name:s.strings.imageSource,align:""},{content:d(()=>[c(T,{size:"medium",options:o.imageSourceOptionsFiltered,modelValue:o.getImageSourceOptionFiltered(o.postEditorStore.currentPost.twitter_image_type),"onUpdate:modelValue":e[8]||(e[8]=x=>a.saveTwitterImageType(x.value))},null,8,["options","modelValue"])]),_:1},8,["name"])),!o.postEditorStore.currentPost.twitter_use_og&&o.postEditorStore.currentPost.twitter_image_type==="custom"?(i(),_(y,{key:3,class:"twitter-custom-field",name:s.strings.customFieldsName,align:""},{content:d(()=>[c(b,{type:"text",size:"medium",placeholder:s.strings.placeholder,modelValue:o.postEditorStore.currentPost.twitter_image_custom_fields,"onUpdate:modelValue":[e[9]||(e[9]=x=>o.postEditorStore.currentPost.twitter_image_custom_fields=x),e[10]||(e[10]=x=>o.postEditorStore.isDirty=!0)]},null,8,["placeholder","modelValue"])]),_:1},8,["name"])):h("",!0),!o.postEditorStore.currentPost.twitter_use_og&&o.postEditorStore.currentPost.twitter_image_type==="custom_image"?(i(),_(y,{key:4,class:"twitter-image",name:s.strings.twitterImage},{content:d(()=>[c(k,{description:a.twitterImageUploaderDescription,modelValue:o.postEditorStore.currentPost.twitter_image_custom_url,"onUpdate:modelValue":e[11]||(e[11]=x=>o.postEditorStore.currentPost.twitter_image_custom_url=x)},null,8,["description","modelValue"])]),_:1},8,["name"])):h("",!0),c(y,{class:"twitter-card-type",name:s.strings.twitterCardType,align:""},{content:d(()=>[c(T,{size:"medium","open-direction":"top",options:o.twitterCardOptions,modelValue:a.getCardOptions(o.postEditorStore.currentPost.twitter_card),"onUpdate:modelValue":e[12]||(e[12]=x=>a.cardSelect(x.value))},null,8,["options","modelValue"])]),_:1},8,["name"])])])}const yl=I(pl,[["render",fl]]),ut="all-in-one-seo-pack",Sl={setup(){return{postEditorStore:W(),settingsStore:Le()}},components:{CoreSettingsRow:we,SvgPencil:kt},data(){return{strings:{title:n("Social Media",ut),sidebarCopy:n("Here you can view and edit the thumbnail, title and description that will be displayed when your site is shared on social media. Click on the button below to view and edit the preview.",ut),editSnippet:n("Preview & Edit",ut)}}},methods:{openModalEv(){this.settingsStore.changeTabSettings({setting:"modal",value:"social"}),this.postEditorStore.currentPost.modalOpen=!0}}},kl={class:"aioseo-sidebar-content-title"};function vl(t,e,r,o,s,a){const g=p("svg-pencil"),l=p("base-button"),y=p("core-settings-row");return t.$root.$data.screenContext==="sidebar"?(i(),_(y,{key:0,name:s.strings.metaDescription,class:"snippet-description-row open-social-copy"},{content:d(()=>[u("div",kl,m(s.strings.title),1),u("p",null,m(s.strings.sidebarCopy),1),c(l,{class:"open-social-modal gray small",onClick:a.openModalEv},{default:d(()=>[c(g),A(" "+m(s.strings.editSnippet),1)]),_:1},8,["onClick"])]),_:1},8,["name"])):h("",!0)}const bl=I(Sl,[["render",vl]]),pt="all-in-one-seo-pack",wl={setup(){return{postEditorStore:W(),settingsStore:Le()}},components:{BaseRadioToggle:oo,CoreMainTabs:De,CoreSettingsRow:we,Facebook:ul,Twitter:yl,SocialSideBar:bl},props:{parentComponentContext:String},data(){return{strings:{pageName:n("Social",pt)},tabs:[{slug:"facebook",name:n("Facebook",pt)},{slug:"twitter",name:n("X (Twitter)",pt)}]}},computed:{initTab:function(){let t=this.settingsStore.metaBoxTabs.social;return this.parentComponentContext==="modal"&&(t=this.settingsStore.metaBoxTabs.socialModal),t}},methods:{processChangeTab(t){this.parentComponentContext==="modal"?this.settingsStore.changeTabSettings({setting:"socialModal",value:t}):this.settingsStore.changeTabSettings({setting:"social",value:t})}},mounted(){ze()["social-tab"]&&(this.processChangeTab(ze()["social-tab"]),setTimeout(()=>{_t("social-tab")},500))}},Cl={class:"aioseo-tab-content aioseo-post-social"};function Pl(t,e,r,o,s,a){const g=p("core-main-tabs"),l=p("core-settings-row"),y=p("social-side-bar");return i(),S("div",Cl,[t.$root.$data.screenContext==="metabox"||r.parentComponentContext==="modal"?(i(),_(l,{key:0,"no-border":""},{content:d(()=>[c(g,{tabs:s.tabs,showSaveButton:!1,active:a.initTab,internal:"",onChanged:e[0]||(e[0]=C=>a.processChangeTab(C)),disableMobile:""},null,8,["tabs","active"])]),_:1})):h("",!0),t.$root.$data.screenContext==="metabox"||r.parentComponentContext==="modal"?(i(),_(Ge,{key:1,name:"route-fade",mode:"out-in"},{default:d(()=>[(i(),_(ye(a.initTab)))]),_:1})):h("",!0),r.parentComponentContext!=="modal"?(i(),_(y,{key:2})):h("",!0)])}const yo=I(wl,[["render",Pl]]),ht="all-in-one-seo-pack",El={setup(){return{settingsStore:Le()}},components:{CoreMainTabs:De,CoreSettingsRow:we,General:_o,Social:yo,SvgSettings:so,SvgShare:ho},data(){return{strings:{pageName:n("Modal Content",ht)},tabs:[{slug:"general",icon:"svg-settings",name:n("General",ht)},{slug:"social",icon:"svg-share",name:n("Social",ht)}]}},computed:{getTabs(){return this.tabs.filter(t=>Ae(`aioseo_page_${t.slug}_settings`))}},methods:{processChangeTab(t){this.settingsStore.changeTabSettings({setting:"modal",value:t})}}},xl={class:"aioseo-modal-content"},Tl={class:"mobile-radio-buttons"},Al={class:"component-wrapper"};function Ll(t,e,r,o,s,a){const g=p("core-main-tabs");return i(),S("div",xl,[u("div",Tl,[c(g,{tabs:a.getTabs,showSaveButton:!1,active:o.settingsStore.metaBoxTabs.modal||"general",internal:"",onChanged:e[0]||(e[0]=l=>a.processChangeTab(l))},null,8,["tabs","active"])]),u("div",Al,[c(Ge,{name:"route-fade",mode:"out-in"},{default:d(()=>[(i(),_(ye(o.settingsStore.metaBoxTabs.modal||"general"),{parentComponentContext:"modal"}))]),_:1})])])}const Il=I(El,[["render",Ll]]),mt="all-in-one-seo-pack",Ml={setup(){return{postEditorStore:W()}},components:{CoreSettingsRow:we,SvgRightArrowShort:Tt},data(){return{strings:{title:n("Redirects",mt),description:n("Here you can add a redirect or view your existing redirects from this page. Click on the button below to view the Redirects panel.",mt),button:n("Open Redirects",mt)}}}},Ol={class:"aioseo-redirects-sidebar"},Dl={class:"aioseo-sidebar-content-title"};function Bl(t,e,r,o,s,a){const g=p("svg-right-arrow-short"),l=p("base-button"),y=p("core-settings-row");return i(),S("div",Ol,[t.$root.$data.screenContext==="sidebar"?(i(),_(y,{key:0,class:"snippet-description-row open-redirects-copy"},{content:d(()=>[u("div",Dl,m(s.strings.title),1),u("p",null,m(s.strings.description),1),c(l,{class:"open-redirects-modal gray small",onClick:e[0]||(e[0]=C=>o.postEditorStore.currentPost.redirects.modalOpen=!0)},{default:d(()=>[c(g),A(" "+m(s.strings.button),1)]),_:1})]),_:1})):h("",!0)])}const Rl=I(Ml,[["render",Bl],["__scopeId","data-v-1754537e"]]),Hl="all-in-one-seo-pack",Ul={setup(){return{postEditorStore:W()}},components:{CoreModal:Ie,RedirectsSideBar:Rl,RedirectsLite:Bs},props:{parentComponentContext:String},data(){return{strings:{modalHeader:n("Redirects",Hl)}}}},Vl={class:"bd"};function Kl(t,e,r,o,s,a){const g=p("redirects-lite"),l=p("core-modal"),y=p("redirects-side-bar");return i(),S("div",null,[t.$root.$data.screenContext==="metabox"?(i(),_(g,{key:0,noCoreCard:!0,parentComponentContext:r.parentComponentContext},null,8,["parentComponentContext"])):h("",!0),c(l,{show:o.postEditorStore.currentPost.redirects.modalOpen&&t.$root.$data.screenContext==="sidebar",classes:["aioseo-redirects"],onClose:e[0]||(e[0]=C=>o.postEditorStore.currentPost.redirects.modalOpen=!1)},{headerTitle:d(()=>[A(m(s.strings.modalHeader),1)]),body:d(()=>[u("div",Vl,[c(g,{noCoreCard:!0,parentComponentContext:r.parentComponentContext},null,8,["parentComponentContext"])])]),_:1},8,["show"]),r.parentComponentContext!=="modal"?(i(),_(y,{key:1})):h("",!0)])}const Kt=I(Ul,[["render",Kl]]),Fl={};function Nl(t,e){return i(),S("div")}const Gl=I(Fl,[["render",Nl]]),zl={setup(){return{addons:ao,licenseStore:de()}},components:{Redirects:Kt,RedirectsActivate:Gl,RedirectsLite:Kt},props:{parentComponentContext:String}},ql={class:"aioseo-tab-content"};function jl(t,e,r,o,s,a){const g=p("Redirects",!0),l=p("RedirectsLite"),y=p("RedirectsActivate");return i(),S("div",ql,[!o.licenseStore.isUnlicensed&&o.addons.isActive("aioseo-redirects")&&!o.addons.requiresUpgrade("aioseo-redirects")?(i(),_(g,{key:0,parentComponentContext:r.parentComponentContext},null,8,["parentComponentContext"])):h("",!0),o.licenseStore.isUnlicensed||o.addons.requiresUpgrade("aioseo-redirects")?(i(),_(l,{key:1,parentComponentContext:r.parentComponentContext},null,8,["parentComponentContext"])):h("",!0),!o.licenseStore.isUnlicensed&&!o.addons.isActive("aioseo-redirects")&&o.addons.canActivate("aioseo-redirects")&&!o.addons.requiresUpgrade("aioseo-redirects")?(i(),_(y,{key:2,parentComponentContext:r.parentComponentContext},null,8,["parentComponentContext"])):h("",!0)])}const $l=I(zl,[["render",jl]]),Wl={class:"graph-container"},Yl={class:"graph"},Zl={class:"left"},Xl=["title"],Jl={class:"right action-buttons"},So={__name:"GraphCard",props:{graph:Object,customGraph:Boolean,defaultGraph:String},setup(t){const e="all-in-one-seo-pack",r=t,{childGraphs:o,graphs:s}=Qt(),a=Se(()=>{var b,k,x,z;if(r.customGraph)return n("Custom Schema",e)+" - "+r.graph.graphName;if(r.defaultGraph)return y(r.defaultGraph);if((b=r.graph)!=null&&b.label)return r.graph.label;const P=(x=(k=r.graph)==null?void 0:k.slug)==null?void 0:x.toLowerCase();return((z=s.find(Q=>Q.slug===P))==null?void 0:z.label)||n("Parsing Block Data...",e)}),g=Se(()=>{if(r.customGraph)return lt;if(r.defaultGraph){const P=l(r.defaultGraph);return P?C(P):lt}return C(r.graph.slug)}),l=P=>{Object.entries(o).forEach(b=>{const k=b[0];b[1].forEach(x=>{P===x.childGraphName&&(P=k)})});let T="";return s.forEach(b=>{b.graphName===P&&(T=b.slug)}),T},y=P=>{let T="",b=P;return Object.entries(o).forEach(k=>{const x=k[0];k[1].forEach(z=>{T||P===z.childGraphName&&(T=x,b=z.label,s.forEach(Q=>{Q.graphName===x&&(T=Q.label)}))})}),T?T+" - "+b+" "+n("(Default)",e):P+" "+n("(Default)",e)},C=P=>{switch(P){case"article":return gs;case"book":return ms;case"car":return hs;case"course":return ps;case"dataset":return us;case"event":return ds;case"faq-page":return cs;case"fact-check":return ls;case"how-to":return as;case"job-posting":return is;case"movie":return ns;case"music":return rs;case"person":return ss;case"product":return os;case"product-review":return ts;case"recipe":return es;case"service":return Qo;case"software-application":return Jo;case"video":return Xo;case"web-page":return Zo;default:return lt}};return(P,T)=>(i(),S("div",Wl,[u("div",Yl,[u("div",Zl,[(i(),_(ye(g.value))),u("span",{title:a.value},m(a.value),9,Xl)]),u("div",Jl,[xe(P.$slots,"buttons")])])]))}},Ql={class:"title"},ec=["innerHTML"],tc={class:"schema-templates"},oc={class:"main"},sc={class:"schema-catalog"},rc={class:"graphs"},nc={__name:"CtaModal",setup(t){const e="all-in-one-seo-pack",{graphs:r}=Qt(),o=_e(),s={schemaGenerator:n("Schema Generator",e),headerTooltip:R(n("Use our powerful Schema Generator to configure Schema Markup for your content. Search Engines use structured data to better understand what your site is about as well as to display rich snippets in search results. %1$s",e),q.getDocLink(Pe.learnMore,"schema",!0)),searchSchema:n("Search Schema",e),ctaDescription:n("Easily generate unlimited schema markup for your content to help you rank higher in search results. Our schema validator ensures your schema works out of the box.",e),ctaButtonText:n("Unlock Schema Generator",e),ctaHeader:R(n("Schema Generator is a %1$s Feature",e),"PRO")},a=[n("Unlimited Schema",e),n("Validate with Google",e),n("Increase Rankings",e),n("Additional Schema Types",e)],g=[{slug:"schema-templates",icon:_s,name:n("Schema Templates",e),component:"templates"},{slug:"custom-schema",icon:fs,name:n("Custom Schema",e),component:"custom"},{slug:"schema-validation",icon:ys,name:n("Schema Validation",e),component:"validation"}],l=[{slug:"schema-catalog",name:n("Schema Catalog",e)},{slug:"your-templates",name:n("Your Templates",e)}];return(y,C)=>{const P=p("base-input"),T=p("base-button");return i(),_(v(Ie),{classes:["aioseo-post-schema-modal-cta"],onClose:C[0]||(C[0]=b=>y.$emit("close"))},{headerTitle:d(()=>[u("div",Ql,m(s.schemaGenerator),1),c(v(Ce),null,{tooltip:d(()=>[u("span",{innerHTML:s.headerTooltip},null,8,ec)]),default:d(()=>[c(v(Ct))]),_:1})]),body:d(()=>[c(v(et),null,{default:d(()=>[c(v(De),{tabs:g,active:"schema-templates",showSaveButton:!1},{"var-tab-icon":d(({tab:b})=>[(i(),_(ye(b.icon)))]),_:1}),u("div",tc,[c(v(De),{tabs:l,active:"schema-catalog",showSaveButton:!1},{"var-tab-icon":d(({tab:b})=>[(i(),_(ye(b.icon)))]),_:1}),u("div",oc,[c(P,{class:"search",size:"medium",prependIcon:"search",placeholder:s.searchSchema},null,8,["placeholder"]),u("div",sc,[u("div",rc,[(i(!0),S(be,null,Ue(v(r),(b,k)=>(i(),_(v(So),{key:b.graphName+k,graph:b},{buttons:d(()=>[c(T,{class:"small",type:"gray"},{default:d(()=>[c(v(Pt))]),_:1})]),_:2},1032,["graph"]))),128))])])])])]),_:1}),c(v(xt),{"cta-link":v(q).getPricingUrl("schema-generator","schema-generator-upsell"),"button-text":s.ctaButtonText,"learn-more-link":v(q).getUpsellUrl("schema-generator",null,v(o).isPro?"pricing":"liteUpgrade"),"feature-list":a},{"header-text":d(()=>[A(m(s.ctaHeader),1)]),description:d(()=>[A(m(s.ctaDescription),1)]),_:1},8,["cta-link","button-text","learn-more-link"])]),_:1})}}},Be="all-in-one-seo-pack",ic={setup(){return{postEditorStore:W(),GLOBAL_STRINGS:Pe,links:q}},components:{CoreAlert:Ee,CoreSettingsRow:we,CoreTooltip:Ce,CtaModal:nc,GraphCard:So,SvgEye:Qe},props:{parentComponentContext:String},data(){return{modalOpenMetabox:!1,modalOpenSidebar:!1,strings:{sidebarDescription:n("Configure Schema Markup for your content. Search engines use structured data to display rich results in SERPs.",Be),noGraphs:n("You have not added any schema yet. You can add any schema graphs you like via the Schema Generator below.",Be),schemaInUse:n("Schema In Use",Be),generateSchema:n("Generate Schema",Be),validateSchema:n("Validate Schema",Be),defaultGraphTooltip:n("This is the default graph for this post type. All data for this graph will be automatically generated.",Be)}}},computed:{isSidebar(){return this.$root.$data.screenContext==="sidebar"}},methods:{getDefaultSchemaTooltipOffset(){return Re()?"-120px,0":this.isSidebar?"-70px,0":"0,0"}}},ac={class:"graphs"},lc={key:0,class:"sidebar-description"},cc={class:"description"},dc=["innerHTML"],uc=["innerHTML"],pc={class:"buttons"};function hc(t,e,r,o,s,a){const g=p("svg-eye"),l=p("base-button"),y=p("core-tooltip"),C=p("graph-card"),P=p("core-alert"),T=p("cta-modal"),b=p("core-settings-row");return i(),S("div",{class:$(["aioseo-tab-content aioseo-post-schema",[{sidebar:a.isSidebar}]])},[c(b,{name:s.strings.schemaInUse},{content:d(()=>[u("div",ac,[a.isSidebar?(i(),S("div",lc,[u("p",cc,m(s.strings.sidebarDescription),1),u("p",{class:"description",innerHTML:o.links.getDocLink(o.GLOBAL_STRINGS.learnMore,"schema",!0)},null,8,dc)])):h("",!0),o.postEditorStore.currentPost.schema.default.graphName&&o.postEditorStore.currentPost.schema.default.isEnabled?(i(),_(C,{key:1,defaultGraph:o.postEditorStore.currentPost.schema.default.graphName},{buttons:d(()=>[c(y,{offset:a.getDefaultSchemaTooltipOffset()},{tooltip:d(()=>[u("span",{innerHTML:s.strings.defaultGraphTooltip},null,8,uc)]),default:d(()=>[c(l,{class:"small no-hover",type:"gray"},{default:d(()=>[c(g)]),_:1})]),_:1},8,["offset"])]),_:1},8,["defaultGraph"])):h("",!0)]),u("div",pc,[!o.postEditorStore.currentPost.schema.default.graphName||!o.postEditorStore.currentPost.schema.default.isEnabled?(i(),_(P,{key:0,class:"no-graphs",type:"yellow"},{default:d(()=>[A(m(s.strings.noGraphs),1)]),_:1})):h("",!0),c(l,{class:"medium",type:"blue",onClick:e[0]||(e[0]=k=>{s.modalOpenMetabox=!0,s.modalOpenSidebar=!0})},{default:d(()=>[A(m(s.strings.generateSchema),1)]),_:1}),c(l,{class:"medium",type:"gray",onClick:e[1]||(e[1]=k=>{s.modalOpenMetabox=!0,s.modalOpenSidebar=!0})},{default:d(()=>[A(m(s.strings.validateSchema),1)]),_:1})]),c(T,{show:!a.isSidebar&&s.modalOpenMetabox,onClose:e[2]||(e[2]=k=>s.modalOpenMetabox=!1)},null,8,["show"]),c(T,{show:a.isSidebar&&s.modalOpenSidebar,onClose:e[3]||(e[3]=k=>s.modalOpenSidebar=!1)},null,8,["show"])]),_:1},8,["name"])],2)}const Ft=I(ic,[["render",hc]]),mc={setup(){return{licenseStore:de()}},components:{Schema:Ft,SchemaLite:Ft},props:{parentComponentContext:String}},gc={class:"aioseo-post-schema-view"};function _c(t,e,r,o,s,a){const g=p("schema",!0),l=p("schema-lite");return i(),S("div",gc,[o.licenseStore.isUnlicensed?h("",!0):(i(),_(g,{key:0,parentComponentContext:r.parentComponentContext},null,8,["parentComponentContext"])),o.licenseStore.isUnlicensed?(i(),_(l,{key:1,parentComponentContext:r.parentComponentContext},null,8,["parentComponentContext"])):h("",!0)])}const fc=I(mc,[["render",_c]]),ko=t=>(Gt("data-v-20175fdb"),t=t(),zt(),t),yc={class:"aioseo-seo-revision-list-item"},Sc={class:"aioseo-seo-revision-list-item__author"},kc={class:"aioseo-seo-revision-list-item__author__avatar"},vc={class:"aioseo-seo-revision-list-item__author__name"},bc=ko(()=>u("div",{class:"aioseo-seo-revision-list-item__date"}," 1 week ago (2 Dec, 2022 @ 18:28:57) ",-1)),wc={class:"aioseo-seo-revision-list-item__action"},Cc=ko(()=>u("span",{class:"aioseo-seo-revision-list-item__action__compare"}," Compare ",-1)),Pc={class:"aioseo-seo-revision-list-item__action__view"},Ec={class:"aioseo-seo-revision-list-item__action__delete"},xc={__name:"ListItem",setup(t){const{currentUser:e}=Zt(Ze());return(r,o)=>(i(),S("div",yc,[u("div",Sc,[u("span",kc,[c(v(Rs),{src:v(e).avatar.url,size:v(e).avatar.size},null,8,["src","size"])]),u("span",vc,m(v(jo)(v(e).display_name,30)),1)]),bc,u("div",wc,[Cc,u("span",Pc,[c(v(Qe),{width:"18"})]),u("span",Ec,[c(v(Je),{width:"18"})])])]))}},Tc=I(xc,[["__scopeId","data-v-20175fdb"]]),Ac={components:{SeoRevisionListItem:Tc}},Lc={class:"aioseo-seo-revisions-list"};function Ic(t,e,r,o,s,a){const g=p("seo-revision-list-item");return i(),S("div",Lc,[(i(),S(be,null,Ue(13,l=>c(g,{key:"seo-revision-list-item-"+l})),64))])}const Mc=I(Ac,[["render",Ic],["__scopeId","data-v-7b502c37"]]),gt="all-in-one-seo-pack",Oc={setup(){return{seoRevisionsStore:Ze()}},components:{CoreBlur:et,CoreModal:Ie,CoreSettingsRow:we,SeoRevisionsList:Mc,SeoRevisionsUpsell:Hs,SvgRightArrowShort:Tt},data(){return{strings:{button:n("Open SEO Revisions",gt),description:n("With our powerful revisions feature for all your SEO data, never lose the exact SEO title or description (and more!) that helped you rank higher in search results and restore it back in a single click.",gt),seoRevisions:n("SEO Revisions",gt)}}}},Dc={key:0,class:"aioseo-seo-revisions-metabox"},Bc={key:1,class:"aioseo-seo-revisions-sidebar"},Rc={class:"aioseo-seo-revisions-sidebar__modal-body"},Hc={class:"description"};function Uc(t,e,r,o,s,a){const g=p("seo-revisions-list"),l=p("core-blur"),y=p("seo-revisions-upsell"),C=p("core-modal"),P=p("svg-right-arrow-short"),T=p("base-button"),b=p("core-settings-row");return t.$root.$data.screenContext==="metabox"?(i(),S("div",Dc,[c(l,null,{default:d(()=>[c(g)]),_:1}),c(y,{"parent-component-context":"metabox"})])):t.$root.$data.screenContext==="sidebar"?(i(),S("div",Bc,[c(C,{show:o.seoRevisionsStore.modalOpenSidebar,classes:[],onClose:e[0]||(e[0]=k=>o.seoRevisionsStore.modalOpenSidebar=!1)},{headerTitle:d(()=>[A(m(s.strings.seoRevisions),1)]),body:d(()=>[u("div",Rc,[c(l,null,{default:d(()=>[c(g)]),_:1}),c(y,{"parent-component-context":"modal"})])]),_:1},8,["show"]),c(b,{align:""},{name:d(()=>[A(m(s.strings.seoRevisions),1)]),description:d(()=>[u("p",Hc,m(s.strings.description),1)]),content:d(()=>[c(T,{class:"gray small",onClick:e[1]||(e[1]=ae(k=>o.seoRevisionsStore.modalOpenSidebar=!0,["stop","exact"]))},{default:d(()=>[c(P,{width:"10"}),A("  "+m(s.strings.button),1)]),_:1})]),_:1})])):h("",!0)}const Nt=I(Oc,[["render",Uc],["__scopeId","data-v-eda67d56"]]),Vc={setup(){return{licenseStore:de()}},components:{SeoRevisions:Nt,SeoRevisionsLite:Nt},props:{parentComponentContext:String},data(){return{license:He}}},Kc={class:"aioseo-seo-revisions aioseo-tab-content"};function Fc(t,e,r,o,s,a){const g=p("seo-revisions",!0),l=p("seo-revisions-lite");return i(),S("div",Kc,[!o.licenseStore.isUnlicensed&&s.license.hasCoreFeature("seo-revisions")?(i(),_(g,{key:0,parentComponentContext:r.parentComponentContext},null,8,["parentComponentContext"])):(i(),_(l,{key:1,parentComponentContext:r.parentComponentContext},null,8,["parentComponentContext"]))])}const Nc=I(Vc,[["render",Fc],["__scopeId","data-v-463f2e4b"]]),Gc={__name:"CountBadge",setup(t){const{itemsTotalCount:e}=Zt(Ze()),r=Se(()=>99<e.value?"99+":e.value);return(o,s)=>v(e)?(i(),S("span",{key:0,class:$(["aioseo-seo-revisions-count-badge",{"aioseo-seo-revisions-count-badge--ml":o.$root.$data.screenContext==="sidebar","aioseo-seo-revisions-count-badge--mr":o.$root.$data.screenContext==="metabox","aioseo-seo-revisions-count-badge--sm":99<v(e)}])},m(r.value),3)):h("",!0)}},zc={},qc={fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",viewBox:"2.25 4 17.75 16"},jc=u("path",{d:"M5.5 12h1.75l-2.5 3-2.5-3H4a8 8 0 113.134 6.35l.907-1.194A6.5 6.5 0 105.5 12zm9.53 1.97l-2.28-2.28V8.5a.75.75 0 00-1.5 0V12a.747.747 0 00.218.529l1.282-.84-1.28.842 2.5 2.5a.75.75 0 101.06-1.061z"},null,-1),$c=[jc];function Wc(t,e){return i(),S("svg",qc,$c)}const Yc=I(zc,[["render",Wc]]),Zc={},Xc={viewBox:"0 0 14 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"aioseo-circle-information-solid"},Jc=u("path",{d:"M7.00016 0.833334C3.32016 0.833334 0.333496 3.82 0.333496 7.5C0.333496 11.18 3.32016 14.1667 7.00016 14.1667C10.6802 14.1667 13.6668 11.18 13.6668 7.5C13.6668 3.82 10.6802 0.833334 7.00016 0.833334ZM7.66683 10.8333H6.3335V9.5H7.66683V10.8333ZM7.66683 8.16667H6.3335V4.16667H7.66683V8.16667Z",fill:"currentColor"},null,-1),Qc=[Jc];function ed(t,e){return i(),S("svg",Xc,Qc)}const td=I(Zc,[["render",ed]]),od={},sd={viewBox:"0 0 12 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"aioseo-receipt"},rd=u("path",{d:"M11 1.83325L10 0.833252L9 1.83325L8 0.833252L7 1.83325L6 0.833252L5 1.83325L4 0.833252L3 1.83325L2 0.833252L1 1.83325L0 0.833252V14.1666L1 13.1666L2 14.1666L3 13.1666L4 14.1666L5 13.1666L6 14.1666L7 13.1666L8 14.1666L9 13.1666L10 14.1666L11 13.1666L12 14.1666V0.833252L11 1.83325ZM1.33333 12.2266V2.77328H10.6667V12.2266H1.33333ZM10 10.8333V9.49992H2V10.8333H10ZM10 6.83325V8.16659H2V6.83325H10ZM10 5.49992V4.16658H2V5.49992H10Z",fill:"currentColor"},null,-1),nd=[rd];function id(t,e){return i(),S("svg",sd,nd)}const ad=I(od,[["render",id]]),ld={},cd={viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"aioseo-crossed-arrows"},dd=u("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M6.26625 4.7737L1.73375 0.249954L0.5 1.4837L5.02375 6.00745L6.26625 4.7737ZM9.6875 0.249954L11.4725 2.03495L0.5 13.0162L1.73375 14.25L12.715 3.27745L14.5 5.06245V0.249954H9.6875ZM8.74251 9.71747L9.97626 8.48372L12.715 11.2225L14.5 9.43746V14.25H9.68751L11.4813 12.4562L8.74251 9.71747Z",fill:"currentColor"},null,-1),ud=[dd];function pd(t,e){return i(),S("svg",cd,ud)}const hd=I(ld,[["render",pd]]),Me="all-in-one-seo-pack",md={setup(){const t=Ze(),e=ve(!1),r=()=>{window.wp.data.select("core/editor").isSavingPost()&&!window.wp.data.select("core/editor").isAutosavingPost()&&(e.value=!0,setTimeout(()=>{t.fetch().finally(()=>{e.value=!1})},2500))},o=async()=>{await Fe(),window.wp.data.subscribe(()=>{e.value||r()})};return{keywordRankTrackerStore:Ye(),licenseStore:de(),postEditorStore:W(),redirectsStore:Ao(),rootStore:_e(),seoRevisionsStore:t,settingsStore:Le(),watchObjectRevisionsOnSavePost:o}},components:{Advanced:dr,Alert:mo,CoreMainTabs:De,CoreModal:Ie,General:_o,KeywordRankTracker:ra,LinkAssistant:rl,ModalContent:Il,Redirects:$l,Schema:fc,SeoRevisions:Nc,SeoRevisionsCountBadge:Gc,Social:yo,SvgBackup:Yc,SvgBuild:Ds,SvgCaret:Xe,SvgCircleInformationSolid:td,SvgClose:St,SvgLinkSuggestion:At,SvgReceipt:ad,SvgRedirectCrossedArrows:hd,SvgSettings:so,SvgShare:ho},data(){return{activeTab:"general",modal:!1,strings:{pageName:"General",modalTitle:n("Preview Snippet Editor",Me)},activeMainSidebarTab:"",isPageBuilderEditor:Re}},watch:{"postEditorStore.currentPost":{deep:!0,handler(){Do(this.postEditorStore.savePostState,250)}},"postEditorStore.currentPost.modalOpen"(t){this.activeTab!=="general"&&this.maybeResetActiveTab(t)},"postEditorStore.currentPost.linkAssistant.modalOpen"(t){this.maybeResetActiveTab(t)},"postEditorStore.currentPost.redirects.modalOpen"(t){this.maybeResetActiveTab(t)},"seoRevisionsStore.modalOpenSidebar"(t){this.maybeResetActiveTab(t)},"settingsStore.metaBoxTabs.mainSidebar":{deep:!0,handler(t){this.$root.$data.screenContext==="sidebar"&&this.activeMainSidebarTab!==t.tab&&(this.activeMainSidebarTab=t.tab,this.processChangeTab(t.tab))}}},computed:{tabs(){var e;const t=[{slug:"general",icon:"svg-settings",name:n("General",Me)},{slug:"social",icon:"svg-share",name:n("Social",Me)},{slug:"schema",icon:"svg-receipt",name:n("Schema",Me)},{slug:"redirects",icon:"svg-redirect-crossed-arrows",name:n("Redirects",Me),warning:0<this.redirectsStore.rows.filter(r=>!!r.enabled).length,permission:"aioseo_page_redirects_manage"},{slug:"seoRevisions",icon:"svg-backup",name:n("SEO Revisions",Me),badge:"seo-revisions-count-badge"},{slug:"advanced",icon:"svg-build",name:n("Advanced",Me)}];return!this.rootStore.aioseo.integration&&!Re()&&this.postEditorStore.currentPost.context==="post"&&!((e=this.postEditorStore.currentPost.linkAssistant)!=null&&e.isExcludedPost)&&t.splice(3,0,{slug:"linkAssistant",icon:"svg-link-suggestion",name:n("Link Assistant",Me)}),t},initTab(){return this.getTabs[0].slug},getTabs(){return this.postEditorStore.currentPost.context==="term"||this.postEditorStore.currentPost.isWooCommercePageWithoutSchema?this.tabs.filter(t=>t.slug!=="schema"&&Ae(this.getTabPermission(t.slug))):this.tabs.filter(t=>Ae(this.getTabPermission(t.slug))?!0:t.slug==="general"&&(Ae("aioseo_page_analysis")||Ae(this.getTabPermission(t.slug))))}},methods:{async processChangeTab(t){if(t!==null&&typeof t=="object"){this.processChangeTab(t.main),this.$nextTick(()=>{this.settingsStore.changeTabSettings({setting:t.main,value:t.sub})});return}switch(this.$root.$data.screenContext){case"sidebar":document.querySelectorAll(".components-panel__header").forEach(e=>{const r=t===null?"sticky":"static";e.style.position=r});break;default:this.activeTab=t,this.settingsStore.changeTabSettings({setting:"main",value:t});break}if(this.$root.$data.screenContext==="sidebar"&&this.activeTab!==t)switch(this.activeTab=t,await this.$nextTick(),t){case"social":this.postEditorStore.currentPost.modalOpen||(this.settingsStore.changeTabSettings({setting:"modal",value:"social"}),this.postEditorStore.currentPost.modalOpen=!0);break;case"linkAssistant":this.postEditorStore.currentPost.linkAssistant&&!this.postEditorStore.currentPost.linkAssistant.modalOpen&&(this.postEditorStore.currentPost.linkAssistant.modalOpen=!0);break;case"redirects":this.postEditorStore.currentPost.redirects&&!this.postEditorStore.currentPost.redirects.modalOpen&&(this.postEditorStore.currentPost.redirects.modalOpen=!0);break;case"seoRevisions":await this.$nextTick(),!this.seoRevisionsStore.modalOpenSidebar&&(this.licenseStore.isUnlicensed||this.seoRevisionsStore.itemsLimit===0)&&(this.seoRevisionsStore.modalOpenSidebar=!0);break}},maybeResetActiveTab(t){t||this.$root.$data.screenContext==="sidebar"&&this.$nextTick(()=>{this.processChangeTab(null)})},closeModal(){this.postEditorStore.currentPost.modalOpen=!1},getTabPermission(t){const e=this.tabs.find(r=>r.slug===t);return typeof e.permission<"u"?e.permission:`aioseo_page_${e.slug}_settings`},getTabName(t){const e=this.tabs.find(r=>r.slug===t);return e==null?void 0:e.name}},created(){switch(this.modal=ze()["aioseo-modaltab"]||this.modal,this.modal&&(this.settingsStore.changeTabSettings({setting:"modal",value:this.modal}),this.postEditorStore.currentPost.modalOpen=!0,setTimeout(()=>{_t("aioseo-modaltab")},500)),this.$nextTick(()=>{this.settingsStore.metaBoxTabs.mainSidebar.tab&&this.processChangeTab(this.settingsStore.metaBoxTabs.mainSidebar.tab)}),window.aioseoBus.$on("standalone-update-post",t=>{Object.keys(t).forEach(e=>{this.postEditorStore.currentPost[e]=t[e]})}),this.$root.$data.screenContext){case"sidebar":this.activeTab=null;break;default:this.activeTab=ze()["aioseo-tab"]||this.initTab,this.settingsStore.changeTabSettings({setting:"main",value:this.activeTab}),setTimeout(()=>{_t("aioseo-tab")},500);break}},beforeMount(){const t=document.querySelector(".interface-complementary-area__pin-unpin-item");t&&t!==null&&(t.style.display="block")},mounted(){We()&&!this.licenseStore.isUnlicensed&&this.watchObjectRevisionsOnSavePost()}},gd={class:"aioseo-app aioseo-post-settings"},_d={key:0,class:"aioseo-sidepanel"},fd=["onClick"],yd={class:"name"},Sd={key:0,class:"aioseo-tab-title"};function kd(t,e,r,o,s,a){const g=p("core-main-tabs"),l=p("svg-circle-information-solid"),y=p("svg-caret"),C=p("svg-close"),P=p("alert"),T=p("modal-content"),b=p("core-modal"),k=p("keyword-rank-tracker");return i(),S("div",gd,[t.$root.$data.screenContext!=="sidebar"?(i(),_(g,{key:0,tabs:a.getTabs,showSaveButton:!1,active:s.activeTab,internal:"",disableMobile:"",onChanged:e[0]||(e[0]=x=>a.processChangeTab(x))},{"var-tab-icon":d(({tab:x})=>[(i(),_(ye(x.icon),{class:$([{warning:x.warning}])},null,8,["class"])),(i(),_(ye(x.badge)))]),_:1},8,["tabs","active"])):h("",!0),c(Ge,{name:"route-fade",mode:"out-in"},{default:d(()=>[t.$root.$data.screenContext==="sidebar"&&s.activeTab===null?(i(),S("div",_d,[(i(!0),S(be,null,Ue(a.getTabs,(x,z)=>(i(),S("a",{key:z,class:"aioseo-sidepanel-button",href:"#",onClick:ae(Q=>a.processChangeTab(x.slug),["prevent"])},[(i(),_(ye(x.icon),{class:"icon"})),u("div",yd,m(x.name),1),(i(),_(ye(x.badge))),x.warning?(i(),_(l,{key:0,width:"15",height:"15"})):h("",!0),c(y)],8,fd))),128))])):h("",!0)]),_:1}),c(Ge,{name:"route-fade",mode:"out-in"},{default:d(()=>[s.activeTab?(i(),S("div",{key:s.activeTab,class:$(["aioseo-tab",{"is-page-builder":!!o.rootStore.aioseo.integration}])},[t.$root.$data.screenContext==="sidebar"?(i(),S("div",Sd,[u("span",null,m(a.getTabName(s.activeTab)),1),c(C,{onClick:e[1]||(e[1]=x=>a.processChangeTab(null))})])):h("",!0),t.$root.$data.screenContext==="sidebar"?(i(),_(P,{key:1})):h("",!0),(i(),_(ye(s.activeTab),{parentComponentContext:"metabox",onChangeTab:e[2]||(e[2]=x=>a.processChangeTab(x))},null,32))],2)):h("",!0)]),_:1}),c(b,{show:o.postEditorStore.currentPost.modalOpen&&t.$root.$data.screenContext==="sidebar",onClose:a.closeModal,classes:["aioseo-post-settings-modal"],"modal-name":"preview-snippet-editor"},{headerTitle:d(()=>[A(m(s.strings.modalTitle),1)]),body:d(()=>[c(T)]),_:1},8,["show","onClose"]),c(k,{"modal-open":o.keywordRankTrackerStore.modalOpenPostEdit,"onUpdate:modalOpen":e[3]||(e[3]=x=>o.keywordRankTrackerStore.toggleModal({modal:"modalOpenPostEdit",open:x}))},null,8,["modal-open"])])}const vd=I(md,[["render",kd]]),Tu={__name:"App",setup(t){Mo({scrollTimeout:1e3,scrollAndHighlightTimeout:2e3});const e=W();return(r,o)=>(i(),S("div",{onClick:o[0]||(o[0]=ae(()=>{},["stop"])),id:"main-settings-cont"},[r.$root.$data.screenContext!=="sidebar"?(i(),_(v(mo),{key:0})):h("",!0),v(e).currentPost.id?(i(),_(v(vd),{key:1})):h("",!0)]))}};export{Tu as _};
